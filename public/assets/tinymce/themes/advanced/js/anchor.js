tinyMCEPopup.requireLangPack();var AnchorDialog={init:function(e){var t,n,r=document.forms[0];this.editor=e,n=e.dom.getParent(e.selection.getNode(),"A"),v=e.dom.getAttrib(n,"name"),v&&(this.action="update",r.anchorName.value=v),r.insert.value=e.getLang(n?"update":"insert")},update:function(){var e=this.editor,t,n=document.forms[0].anchorName.value;if(!n||!/^[a-z][a-z0-9\-\_:\.]*$/i.test(n)){tinyMCEPopup.alert("advanced_dlg.anchor_invalid");return}tinyMCEPopup.restoreSelection(),this.action!="update"&&e.selection.collapse(1),t=e.dom.getParent(e.selection.getNode(),"A"),t?(t.setAttribute("name",n),t.name=n):e.execCommand("mceInsertContent",0,e.dom.createHTML("a",{name:n,"class":"mceItemAnchor"},"")),tinyMCEPopup.close()}};tinyMCEPopup.onInit.add(AnchorDialog.init,AnchorDialog);