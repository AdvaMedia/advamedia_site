!function(){var e=tinymce.DOM;tinymce.dom.Event,tinymce.each,tinymce.create("tinymce.plugins.jQueryInlinePopups",{init:function(e){e.onBeforeRenderUI.add(function(){e.windowManager=new tinymce.InlineWindowManager(e)})},getInfo:function(){return{longname:"jQuery UI Inline Popups",author:"Richard Willis",authorurl:"http://badsyntax.co",infourl:"http://is.gd/j1FuI",version:"0.1b"}}}),tinymce.create("tinymce.InlineWindowManager:tinymce.WindowManager",{InlineWindowManager:function(e){this.parent(e),this.windows={}},open:function(t,i){if(t=t||{},i=i||{},!t.inline)return n.parent(t,i);var n=this,o=e.uniqueId(),r={title:t.title||"",width:"auto",height:"auto",modal:!0,resizable:!1,draggable:!0,dialogClass:"ui-dialog-tinymce",zIndex:3e5},s=$("<div />").attr("id","dialog-"+o).hide().appendTo("body"),a={id:o,features:t,element:s};if(t.type||(this.bookmark=this.editor.selection.getBookmark(1)),t.content)"confirm"==t.type?r.buttons=[{text:"Ok",click:function(){t.button_func(!0)}},{text:"Cancel",click:function(){t.button_func(!1)}}]:"alert"==t.type&&(r.buttons=[{text:"Ok",click:function(){t.button_func(!0)}}]),r.width=t.width,s.html($("<div />",{"class":"ui-dialog-tinymce-content",html:t.content}));else var l=$("<iframe />",{id:o+"_ifr",frameborder:0}).css({width:t.width,height:t.height}).appendTo(s);return i.mce_inline=!0,i.mce_window_id=o,i.mce_auto_focus=t.auto_focus,this.features=t,this.params=i,this.onOpen.dispatch(this,t,i),s.dialog(r),t.content||(l.attr("src",t.url||t.file),l.load(function(){var e=$(l).contents();buttonPane=$("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),s.after(buttonPane),buttons=$("<div></div>").addClass("button-wrapper").appendTo(buttonPane),e.find(".mceActionPanel").hide().find("input[type=button], input[type=submit]").each(function(){var e,t=$(this);"cancel"==t.attr("id")?(e=$("<a></a>").attr("href","#").attr("id","close-link").html(t.val()),buttonPane.append(e)):(e=$("<a></a>").attr("href","#").addClass("button").html(t.val()),buttons.append(e)),e.bind("click",function(e){e.stopPropagation(),e.preventDefault(),t.trigger("click")})})})),n.windows[o]=a,a},resizeBy:function(){},focus:function(){},close:function(e,t){var i,n=this,t=t||e.frameElement.id.replace(/_ifr$/,"");return n.windows[t]?((i=n.windows[t])&&(i.element.dialog("destroy").remove(),delete n.windows[t]),void 0):(n.parent(e),void 0)},setTitle:function(e,t){var i=e.frameElement.id.replace(/_ifr$/,"");$("#ui-dialog-title-dialog-"+i).html(t)},alert:function(e,t,i){this._messagePopup("alert","Alert",e,t,i)},confirm:function(e,t,i){this._messagePopup("confirm","Confirm",e,t,i)},_messagePopup:function(t,i,n,o){var r,s=this;r=s.open({title:i,type:t,button_func:function(e){o&&o.call(e||s,e),s.close(null,r.id)},content:e.encode(s.editor.getLang(n,n)),inline:1,width:400,height:130})}}),tinymce.PluginManager.add("jqueryinlinepopups",tinymce.plugins.jQueryInlinePopups)}();