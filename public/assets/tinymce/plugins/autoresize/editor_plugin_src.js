/**
 * editor_plugin_src.js
 *
 * Copyright 2009, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://tinymce.moxiecode.com/license
 * Contributing: http://tinymce.moxiecode.com/contributing
 */
(function(){tinymce.create("tinymce.plugins.AutoResizePlugin",{init:function(a,b){function e(){var b=a.getDoc(),e=b.body,f=b.documentElement,g=tinymce.DOM,h=c.autoresize_min_height,i;i=tinymce.isIE?e.scrollHeight:b.body.offsetHeight,i>c.autoresize_min_height&&(h=i),c.autoresize_max_height&&i>c.autoresize_max_height?(h=c.autoresize_max_height,a.getBody().style.overflowY="auto"):a.getBody().style.overflowY="hidden",h!==d&&(g.setStyle(g.get(a.id+"_ifr"),"height",h+"px"),d=h),c.throbbing&&(a.setProgressState(!1),a.setProgressState(!0))}var c=this,d=0;if(a.getParam("fullscreen_is_enabled"))return;c.editor=a,c.autoresize_min_height=parseInt(a.getParam("autoresize_min_height",a.getElement().offsetHeight)),c.autoresize_max_height=parseInt(a.getParam("autoresize_max_height",0)),a.onInit.add(function(a){a.dom.setStyle(a.getBody(),"paddingBottom",a.getParam("autoresize_bottom_margin",50)+"px")}),a.onChange.add(e),a.onSetContent.add(e),a.onPaste.add(e),a.onKeyUp.add(e),a.onPostRender.add(e),a.getParam("autoresize_on_init",!0)&&(a.onInit.add(function(a,b){a.setProgressState(!0),c.throbbing=!0,a.getBody().style.overflowY="hidden"}),a.onLoadContent.add(function(a,b){e(),setTimeout(function(){e(),a.setProgressState(!1),c.throbbing=!1},1250)})),a.addCommand("mceAutoResize",e)},getInfo:function(){return{longname:"Auto Resize",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/autoresize",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("autoresize",tinymce.plugins.AutoResizePlugin)})();