/*
* Aloha Editor
* Author & Copyright (c) 2010 Gentics Software GmbH
* aloha-sales@gentics.com
* Licensed unter the terms of http://www.aloha-editor.com/license.html
*
*/
define(["aloha/jquery","aloha/plugin","aloha/floatingmenu","i18n!aloha/nls/i18n"],function(a,b,c,d){var e=a,f=window.GENTICS,g=window.Aloha,h=b.create("ribbon",{init:function(){if(typeof this.settings.enable=="undefined"||this.settings.enable===!0){var b=this;this.visible=!1,this.toolbar=new Ext.Toolbar({height:"25px",cls:"ext-root",id:"aloha-ribbon"}),this.toolbar.add(new Ext.Toolbar.Spacer({width:"5"})),this.icon=new Ext.Toolbar.Spacer,this.toolbar.add(this.icon),this.toolbar.add(new Ext.Toolbar.Fill),this.toolbar.add(new Ext.Toolbar.Separator);var c=new Ext.Button({iconCls:"aloha-fade-out",handler:function(c){var d=a(b.toolbar.getEl().dom);c.iconCls=="aloha-fade-out"?(d.animate({left:"-100%",marginLeft:"34px"}),a("body").animate({paddingTop:0}),c.setIconClass("aloha-fade-in")):(d.animate({left:0,marginLeft:0}),a("body").animate({paddingTop:"30px"}),c.setIconClass("aloha-fade-out")),b.toolbar.doLayout()}});this.toolbar.add(c),this.toolbar.add(new Ext.Toolbar.Spacer({width:"5"})),this.toolbar.render(document.body,0),a("body").css("paddingTop","30px")}},setIcon:function(a){typeof this.icon.cls!="undefined"&&this.icon.removeClass(this.icon.cls),this.icon.addClass(a)},addButton:function(b){if(b.menu!=null&&typeof b.menu=="object"){var c=new Ext.menu.Menu;a.each(b.menu,function(a,b){c.addItem(new Ext.menu.Item({text:b.label,icon:b.icon,iconCls:b.iconClass,handler:function(){b.onclick.apply(b)}}))})}var d={text:b.label,enableToggle:b.toggle,icon:b.icon,pressed:b.pressed,iconCls:b.iconClass,menu:c,handler:function(){typeof b.onclick=="function"&&b.onclick.apply(b),b.pressed=!b.pressed}},e;c&&typeof b.onclick=="function"?e=new Ext.SplitButton(d):e=new Ext.Button(d),this.toolbar.insert(this.toolbar.items.getCount()-3,e),this.toolbar.doLayout()},addSeparator:function(){this.toolbar.insert(this.toolbar.items.getCount()-3,new Ext.Toolbar.Separator)},hide:function(){a("#aloha-ribbon").fadeOut(),this.visible=!1},show:function(){a("#aloha-ribbon").fadeIn(),this.visible=!0},isVisible:function(){return this.visible}});return h});