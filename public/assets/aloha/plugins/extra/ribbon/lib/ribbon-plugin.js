/*
* Aloha Editor
* Author & Copyright (c) 2010 Gentics Software GmbH
* aloha-sales@gentics.com
* Licensed unter the terms of http://www.aloha-editor.com/license.html
*
*/
define(["aloha/jquery","aloha/plugin","aloha/floatingmenu","i18n!aloha/nls/i18n"],function(e,t,n,r){var i=e,s=window.GENTICS,o=window.Aloha,u=t.create("ribbon",{init:function(){if(typeof this.settings.enable=="undefined"||this.settings.enable===!0){var t=this;this.visible=!1,this.toolbar=new Ext.Toolbar({height:"25px",cls:"ext-root",id:"aloha-ribbon"}),this.toolbar.add(new Ext.Toolbar.Spacer({width:"5"})),this.icon=new Ext.Toolbar.Spacer,this.toolbar.add(this.icon),this.toolbar.add(new Ext.Toolbar.Fill),this.toolbar.add(new Ext.Toolbar.Separator);var n=new Ext.Button({iconCls:"aloha-fade-out",handler:function(n){var r=e(t.toolbar.getEl().dom);n.iconCls=="aloha-fade-out"?(r.animate({left:"-100%",marginLeft:"34px"}),e("body").animate({paddingTop:0}),n.setIconClass("aloha-fade-in")):(r.animate({left:0,marginLeft:0}),e("body").animate({paddingTop:"30px"}),n.setIconClass("aloha-fade-out")),t.toolbar.doLayout()}});this.toolbar.add(n),this.toolbar.add(new Ext.Toolbar.Spacer({width:"5"})),this.toolbar.render(document.body,0),e("body").css("paddingTop","30px")}},setIcon:function(e){typeof this.icon.cls!="undefined"&&this.icon.removeClass(this.icon.cls),this.icon.addClass(e)},addButton:function(t){if(t.menu!=null&&typeof t.menu=="object"){var n=new Ext.menu.Menu;e.each(t.menu,function(e,t){n.addItem(new Ext.menu.Item({text:t.label,icon:t.icon,iconCls:t.iconClass,handler:function(){t.onclick.apply(t)}}))})}var r={text:t.label,enableToggle:t.toggle,icon:t.icon,pressed:t.pressed,iconCls:t.iconClass,menu:n,handler:function(){typeof t.onclick=="function"&&t.onclick.apply(t),t.pressed=!t.pressed}},i;n&&typeof t.onclick=="function"?i=new Ext.SplitButton(r):i=new Ext.Button(r),this.toolbar.insert(this.toolbar.items.getCount()-3,i),this.toolbar.doLayout()},addSeparator:function(){this.toolbar.insert(this.toolbar.items.getCount()-3,new Ext.Toolbar.Separator)},hide:function(){e("#aloha-ribbon").fadeOut(),this.visible=!1},show:function(){e("#aloha-ribbon").fadeIn(),this.visible=!0},isVisible:function(){return this.visible}});return u});