define(["aloha/jquery"],function(jQuery){var $=jQuery;(function(f){var C=f.browser;f.layout={browser:{mozilla:!!C.mozilla,webkit:!!C.webkit||!!C.safari,msie:!!C.msie,isIE6:!!C.msie&&C.version==6,boxModel:!1},scrollbarWidth:function(){return window.scrollbarWidth||f.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||f.layout.getScrollbarSize("height")},getScrollbarSize:function(a){var b=f('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),window.scrollbarWidth=c.width,window.scrollbarHeight=c.height,a.match(/^(width|height)$/i)?c[a]:c},showInvisibly:function(a,b){if(!a)return{};a.jquery||(a=f(a));var c={display:a.css("display"),visibility:a.css("visibility")};return b||c.display=="none"?(a.css({display:"block",visibility:"hidden"}),c):{}},getElemDims:function(a){var b={},c=b.css={},d={},e,g,h=a.offset();return b.offsetLeft=h.left,b.offsetTop=h.top,f.each("Left,Right,Top,Bottom".split(","),function(h,i){e=c["border"+i]=f.layout.borderWidth(a,i),g=c["padding"+i]=f.layout.cssNum(a,"padding"+i),d[i]=e+g,b["inset"+i]=g}),b.offsetWidth=a.innerWidth(),b.offsetHeight=a.innerHeight(),b.outerWidth=a.outerWidth(),b.outerHeight=a.outerHeight(),b.innerWidth=b.outerWidth-d.Left-d.Right,b.innerHeight=b.outerHeight-d.Top-d.Bottom,c.width=a.width(),c.height=a.height(),b},getElemCSS:function(a,b){var c={},d=a[0].style,e=b.split(","),f="Top,Bottom,Left,Right".split(","),g="Color,Style,Width".split(","),h,i,j,k,l,m;for(k=0;k<e.length;k++)if(h=e[k],h.match(/(border|padding|margin)$/))for(l=0;l<4;l++)if(i=f[l],h=="border")for(m=0;m<3;m++)j=g[m],c[h+i+j]=d[h+i+j];else c[h+i]=d[h+i];else c[h]=d[h];return c},cssWidth:function(a,b){var c=f.layout.borderWidth,d=f.layout.cssNum;return b<=0?0:f.layout.browser.boxModel?(c=b-c(a,"Left")-c(a,"Right")-d(a,"paddingLeft")-d(a,"paddingRight"),Math.max(0,c)):b},cssHeight:function(a,b){var c=f.layout.borderWidth,d=f.layout.cssNum;return b<=0?0:f.layout.browser.boxModel?(c=b-c(a,"Top")-c(a,"Bottom")-d(a,"paddingTop")-d(a,"paddingBottom"),Math.max(0,c)):b},cssNum:function(a,b){a.jquery||(a=f(a));var c=f.layout.showInvisibly(a),d=parseInt(f.curCSS(a[0],b,!0),10)||0;return a.css(c),d},borderWidth:function(a,b){a.jquery&&(a=a[0]);var c="border"+b.substr(0,1).toUpperCase()+b.substr(1);return f.curCSS(a,c+"Style",!0)=="none"?0:parseInt(f.curCSS(a,c+"Width",!0),10)||0},isMouseOverElem:function(a,b){var c=f(b||this),d=c.offset(),e=d.top,d=d.left,g=d+c.outerWidth(),c=e+c.outerHeight(),h=a.pageX,i=a.pageY;return f.layout.browser.msie&&h<0&&i<0||h>=d&&h<=g&&i>=e&&i<=c}},f.fn.layout=function(j){function o(a){if(!a)return!0;var b=a.keyCode;if(b<33)return!0;var c={38:"north",40:"south",37:"west",39:"east"},d=a.shiftKey,e=a.ctrlKey,g,h,i,j;return e&&b>=37&&b<=40&&m[c[b]].enableCursorHotkey?j=c[b]:(e||d)&&f.each(k.borderPanes.split(","),function(a,c){g=m[c],h=g.customHotkey,i=g.customHotkeyModifier;if(d&&i=="SHIFT"||e&&i=="CTRL"||e&&d)if(h&&b==(isNaN(h)||h<=9?h.toUpperCase().charCodeAt(0):h))return j=c,!1}),!j||!q[j]||!m[j].closable||l[j].isHidden?!0:(ca(j),a.stopPropagation(),a.returnValue=!1)}function p(a){this&&this.tagName&&(a=this);var b;I(a)?b=q[a]:f(a).data("layoutRole")?b=f(a):f(a).parents().each(function(){if(f(this).data("layoutRole"))return b=f(this),!1});if(b&&b.length){var c=b.data("layoutEdge"),a=l[c];a.cssSaved&&r(c);if(a.isSliding||a.isResizing||a.isClosed)a.cssSaved=!1;else{var d={zIndex:k.zIndex.pane_normal+2},e={},g=b.css("overflow"),h=b.css("overflowX"),i=b.css("overflowY");g!="visible"&&(e.overflow=g,d.overflow="visible"),h&&!h.match(/visible|auto/)&&(e.overflowX=h,d.overflowX="visible"),i&&!i.match(/visible|auto/)&&(e.overflowY=h,d.overflowY="visible"),a.cssSaved=e,b.css(d),f.each(k.allPanes.split(","),function(a,b){b!=c&&r(b)})}}}function r(a){this&&this.tagName&&(a=this);var b;I(a)?b=q[a]:f(a).data("layoutRole")?b=f(a):f(a).parents().each(function(){if(f(this).data("layoutRole"))return b=f(this),!1});if(b&&b.length){var a=b.data("layoutEdge"),a=l[a],c=a.cssSaved||{};!a.isSliding&&!a.isResizing&&b.css("zIndex",k.zIndex.pane_normal),b.css(c),a.cssSaved=!1}}function F(a,b,c){var d=f(a);if(d.length){if(k.borderPanes.indexOf(b)!=-1)return a=m[b].buttonClass+"-"+c,d.addClass(a+" "+a+"-"+b).data("layoutName",m.name),d;alert(D.errButton+D.Pane.toLowerCase()+": "+b)}else alert(D.errButton+D.selector+": "+a);return null}function C(a,b,c){switch(b.toLowerCase()){case"toggle":H(a,c);break;case"open":x(a,c);break;case"close":z(a,c);break;case"pin":Ba(a,c);break;case"toggle-slide":H(a,c,!0);break;case"open-slide":x(a,c,!0)}}function H(a,b,c){(a=F(a,b,"toggle"))&&a.click(function(a){ca(b,!!c),a.stopPropagation()})}function x(a,b,c){(a=F(a,b,"open"))&&a.attr("title",D.Open).click(function(a){M(b,!!c),a.stopPropagation()})}function z(a,b){var c=F(a,b,"close");c&&c.attr("title",D.Close).click(function(a){J(b),a.stopPropagation()})}function Ba(a,b){var c=F(a,b,"pin");if(c){var d=l[b];c.click(function(a){T(f(this),b,d.isSliding||d.isClosed),d.isSliding||d.isClosed?M(b):J(b),a.stopPropagation()}),T(c,b,!d.isClosed&&!d.isSliding),k[b].pins.push(a)}}function S(a,b){f.each(k[a].pins,function(c,d){T(f(d),a,b)})}function T(a,b,c){var d=a.attr("pin");if(!d||c!=(d=="down")){var d=m[b].buttonClass+"-pin",e=d+"-"+b,b=d+"-up "+e+"-up",d=d+"-down "+e+"-down";a.attr("pin",c?"down":"up").attr("title",c?D.Unpin:D.Pin).removeClass(c?b:d).addClass(c?d:b)}}function X(a){for(var a=f.extend({},m.cookie,a||{}).name||m.name||"Layout",b=document.cookie,b=b?b.split(";"):[],c,d=0,e=b.length;d<e;d++)if(c=f.trim(b[d]).split("="),c[0]==a)return Ca(decodeURIComponent(c[1]));return""}function pa(a,b){var c=f.extend({},m.cookie,b||{}),d=c.name||m.name||"Layout",e="",g="",h=!1;return c.expires.toUTCString?g=c.expires:typeof c.expires=="number"&&(g=new Date,c.expires>0?g.setDate(g.getDate()+c.expires):(g.setYear(1970),h=!0)),g&&(e+=";expires="+g.toUTCString()),c.path&&(e+=";path="+c.path),c.domain&&(e+=";domain="+c.domain),c.secure&&(e+=";secure"),h?(l.cookie={},document.cookie=d+"="+e):(l.cookie=qa(a||c.keys),document.cookie=d+"="+encodeURIComponent(Da(l.cookie))+e),f.extend({},l.cookie)}function Ea(a){if(a=X(a))l.cookie=f.extend({},a),Fa(a);return a}function Fa(a,b){f.extend(!0,m,a);if(l.initialized){var c,d,e=!b;f.each(k.allPanes.split(","),function(b,f){c=a[f],typeof c=="object"&&(d=c.initHidden,d===!0&&la(f,e),d===!1&&ha(f,!1,e),d=c.size,d>0&&Y(f,d),d=c.initClosed,d===!0&&J(f,!1,e),d===!1&&M(f,!1,e))})}}function qa(a){var b={},c={isClosed:"initClosed",isHidden:"initHidden"},d,e,g;a||(a=m.cookie.keys),f.isArray(a)&&(a=a.join(","));for(var a=a.replace(/__/g,".").split(","),h=0,i=a.length;h<i;h++)d=a[h].split("."),e=d[0],d=d[1],k.allPanes.indexOf(e)<0||(g=l[e][d],g!=void 0&&(d=="isClosed"&&l[e].isSliding&&(g=!0),(b[e]||(b[e]={}))[c[d]?c[d]:d]=g));return b}function Da(a){function b(a){var c=[],d=0,e,f,g;for(e in a)f=a[e],g=typeof f,g=="string"?f='"'+f+'"':g=="object"&&(f=b(f)),c[d++]='"'+e+'":'+f;return"{"+c.join(",")+"}"}return b(a)}function Ca(a){try{return window.eval("("+a+")")||{}}catch(b){return{}}}var D={Pane:"Pane",Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",selector:"selector",msgNoRoom:"Not enough room to show this pane.",errContainerMissing:"UI Layout Initialization Error\n\nThe specified layout-container does not exist.",errCenterPaneMissing:"UI Layout Initialization Error\n\nThe center-pane element does not exist.\n\nThe center-pane is a required element.",errContainerHeight:"UI Layout Initialization Warning\n\nThe layout-container \"CONTAINER\" has no height.\n\nTherefore the layout is 0-height and hence 'invisible'!",errButton:"Error Adding Button \n\nInvalid "},m={name:"",containerClass:"ui-layout-container",scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,autoBindCustomButtons:!1,zIndex:null,defaults:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerTip_open:D.Close,togglerTip_closed:D.Open,togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskIframesOnResize:!0,resizeNestedLayout:!0,resizeWhileDragging:!1,resizeContentWhileDragging:!1,noRoomToOpenTip:D.msgNoRoom,resizerTip:D.Resize,sliderTip:D.Slide,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:!!f.browser.webkit||!!f.browser.safari,preventPrematureSlideClose:!1,showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,triggerEventsOnLoad:!1,triggerEventsWhileDragging:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0},useStateCookie:!1,cookie:{name:"",autoSave:!0,autoLoad:!0,domain:"",path:"",expires:"",secure:!1,keys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden"}},ra={slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}}},l={id:"layout"+(new Date).getTime(),initialized:!1,container:{},north:{},south:{},east:{},west:{},center:{},cookie:{}},k={allPanes:"north,south,west,east,center",borderPanes:"north,south,west,east",altSide:{north:"south",south:"north",east:"west",west:"east"},hidden:{visibility:"hidden"},visible:{visibility:"visible"},zIndex:{pane_normal:1,resizer_normal:2,iframe_mask:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"Top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"},pins:[]},south:{side:"Bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"},pins:[]},east:{side:"Right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"},pins:[]},west:{side:"Left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"},pins:[]},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},E={data:{},set:function(a,b,c){E.clear(a),E.data[a]=setTimeout(b,c)},clear:function(a){var b=E.data;b[a]&&(clearTimeout(b[a]),delete b[a])}},I=function(a){try{return typeof a=="string"||typeof a=="object"&&a.constructor.toString().match(/string/i)!==null}catch(b){return!1}},y=function(a,b){return Math.max(a,b)},Ta=function(a){var b,c={cookie:{},defaults:{fxSettings:{}},north:{fxSettings:{}},south:{fxSettings:{}},east:{fxSettings:{}},west:{fxSettings:{}},center:{fxSettings:{}}},a=a||{};return a.effects||a.cookie||a.defaults||a.north||a.south||a.west||a.east||a.center?c=f.extend(!0,c,a):f.each(a,function(a,d){b=a.split("__");if(!b[1]||c[b[0]])c[b[1]?b[0]:"defaults"][b[1]?b[1]:b[0]]=d}),c},Ga=function(a,b,c){function d(g){var h=k[g];h.doCallback?(e.push(g),g=h.callback.split(",")[1],g!=b&&!f.inArray(g,e)>=0&&d(g)):(h.doCallback=!0,h.callback=a+","+b+","+(c?1:0))}var e=[];f.each(k.borderPanes.split(","),function(a,b){if(k[b].isMoving)return d(b),!1})},Ha=function(a){a=k[a],k.isLayoutBusy=!1,delete a.isMoving;if(a.doCallback&&a.callback){a.doCallback=!1;var b=a.callback.split(","),c=b[2]>0?!0:!1;b[0]=="open"?M(b[1],c):b[0]=="close"&&J(b[1],c),a.doCallback||(a.callback=null)}},t=function(a,b){if(b){var c;try{if(typeof b=="function")c=b;else{if(!I(b))return;if(b.match(/,/)){var d=b.split(",");c=eval(d[0]);if(typeof c=="function"&&d.length>1)return c(d[1])}else c=eval(b)}if(typeof c=="function")return a&&q[a]?c(a,q[a],f.extend({},l[a]),m[a],m.name):c(da,f.extend({},l),m,m.name)}catch(e){}}},Ia=function(a,b){if(!a)return{};a.jquery||(a=f(a));var c={display:a.css("display"),visibility:a.css("visibility")};return b||c.display=="none"?(a.css({display:"block",visibility:"hidden"}),c):{}},Ja=function(a){if(!l.browser.mozilla){var b=q[a];l[a].tagName=="IFRAME"?b.css(k.hidden).css(k.visible):b.find("IFRAME").css(k.hidden).css(k.visible)}},Z=function(a,b){a.jquery||(a=f(a));var c=Ia(a),d=parseInt(f.curCSS(a[0],b,!0),10)||0;return a.css(c),d},ia=function(a,b){a.jquery&&(a=a[0]);var c="border"+b.substr(0,1).toUpperCase()+b.substr(1);return f.curCSS(a,c+"Style",!0)=="none"?0:parseInt(f.curCSS(a,c+"Width",!0),10)||0},K=function(a,b){var c=I(a),d=c?q[a]:f(a);return isNaN(b)&&(b=c?P(a):d.outerWidth()),b<=0?0:l.browser.boxModel?(c=b-ia(d,"Left")-ia(d,"Right")-Z(d,"paddingLeft")-Z(d,"paddingRight"),y(0,c)):b},L=function(a,b){var c=I(a),d=c?q[a]:f(a);return isNaN(b)&&(b=c?P(a):d.outerHeight()),b<=0?0:l.browser.boxModel?(c=b-ia(d,"Top")-ia(d,"Bottom")-Z(d,"paddingTop")-Z(d,"paddingBottom"),y(0,c)):b},ma=function(a){var b=k[a].dir,a={minWidth:1001-K(a,1e3),minHeight:1001-L(a,1e3)};return b=="horz"&&(a.minSize=a.minHeight),b=="vert"&&(a.minSize=a.minWidth),a},Ua=function(a,b,c){var d=a;I(a)?d=q[a]:a.jquery||(d=f(a)),a=L(d,b),d.css({height:a,visibility:"visible"}),a>0&&d.innerWidth()>0?c&&d.data("autoHidden")&&(d.show().data("autoHidden",!1),l.browser.mozilla||d.css(k.hidden).css(k.visible)):c&&!d.data("autoHidden")&&d.hide().data("autoHidden",!0)},U=function(a,b,c){c||(c=k[a].dir),I(b)&&b.match(/%/)&&(b=parseInt(b,10)/100);if(b===0)return 0;if(b>=1)return parseInt(b,10);if(b>0){var a=m,d;return c=="horz"?d=u.innerHeight-(q.north?a.north.spacing_open:0)-(q.south?a.south.spacing_open:0):c=="vert"&&(d=u.innerWidth-(q.west?a.west.spacing_open:0)-(q.east?a.east.spacing_open:0)),Math.floor(d*b)}if(a=="center")return 0;d=q[a];var c=c=="horz"?"height":"width",a=Ia(d),e=d.css(c);return d.css(c,"auto"),b=c=="height"?d.outerHeight():d.outerWidth(),d.css(c,e).css(a),b},P=function(a,b){var c=q[a],d=m[a],e=l[a],f=b?d.spacing_open:0,d=b?d.spacing_closed:0;return!c||e.isHidden?0:e.isClosed||e.isSliding&&b?d:k[a].dir=="horz"?c.outerHeight()+f:c.outerWidth()+f},Q=function(a,b){var c=m[a],d=l[a],e=k[a],f=e.dir;e.side.toLowerCase(),e.sizeType.toLowerCase();var e=b!=void 0?b:d.isSliding,g=c.spacing_open,h=k.altSide[a],i=l[h],j=q[h],n=!j||i.isVisible===!1||i.isSliding?0:f=="horz"?j.outerHeight():j.outerWidth(),h=(!j||i.isHidden?0:m[h][i.isClosed!==!1?"spacing_closed":"spacing_open"])||0,i=f=="horz"?u.innerHeight:u.innerWidth,j=ma("center"),j=f=="horz"?y(m.center.minHeight,j.minHeight):y(m.center.minWidth,j.minWidth),e=i-g-(e?0:U("center",j,f)+n+h),f=d.minSize=y(U(a,c.minSize),ma(a).minSize),g=c.maxSize?U(a,c.maxSize):1e5,e=d.maxSize=Math.min(g,e),d=d.resizerPosition={},g=u.insetTop,n=u.insetLeft,h=u.innerWidth,i=u.innerHeight,c=c.spacing_open;switch(a){case"north":d.min=g+f,d.max=g+e;break;case"west":d.min=n+f,d.max=n+e;break;case"south":d.min=g+i-e-c,d.max=g+i-f-c;break;case"east":d.min=n+h-e-c,d.max=n+h-f-c}},$=function(a){var b={},c=b.css={},d={},e,g,h=a.offset();return b.offsetLeft=h.left,b.offsetTop=h.top,f.each("Left,Right,Top,Bottom".split(","),function(f,h){e=c["border"+h]=ia(a,h),g=c["padding"+h]=Z(a,"padding"+h),d[h]=e+g,b["inset"+h]=g}),b.offsetWidth=a.innerWidth(),b.offsetHeight=a.innerHeight(),b.outerWidth=a.outerWidth(),b.outerHeight=a.outerHeight(),b.innerWidth=b.outerWidth-d.Left-d.Right,b.innerHeight=b.outerHeight-d.Top-d.Bottom,c.width=a.width(),c.height=a.height(),b},na=function(a,b){var c={},d=a[0].style,e=b.split(","),f="Top,Bottom,Left,Right".split(","),g="Color,Style,Width".split(","),h,i,j,k,l,m;for(k=0;k<e.length;k++)if(h=e[k],h.match(/(border|padding|margin)$/))for(l=0;l<4;l++)if(i=f[l],h=="border")for(m=0;m<3;m++)j=g[m],c[h+i+j]=d[h+i+j];else c[h+i]=d[h+i];else c[h]=d[h];return c},sa=function(a,b){var c=f(a),d=c.data("layoutRole"),e=c.data("layoutEdge"),g=m[e][d+"Class"],e="-"+e,h=c.hasClass(g+"-closed")?"-closed":"-open",i=h=="-closed"?"-open":"-closed",h=g+"-hover "+(g+e+"-hover ")+(g+h+"-hover ")+(g+e+h+"-hover ");return b&&(h+=g+i+"-hover "+(g+e+i+"-hover ")),d=="resizer"&&c.hasClass(g+"-sliding")&&(h+=g+"-sliding-hover "+(g+e+"-sliding-hover ")),f.trim(h)},ta=function(a,b){var c=f(b||this);a&&c.data("layoutRole")=="toggler"&&a.stopPropagation(),c.addClass(sa(c))},R=function(a,b){var c=f(b||this);c.removeClass(sa(c,!0))},Ka=function(a){f("body").disableSelection(),ta(a,this)},ua=function(a,b){var c=b||this,d=f(c).data("layoutEdge"),e=d+"ResizerLeave";E.clear(d+"_openSlider"),E.clear(e),b?l[d].isResizing||f("body").enableSelection():(R(a,this),E.set(e,function(){ua(a,c)},200))},Va=function(){var a=Number(m.resizeWithWindowDelay)||100;a>0&&(E.clear("winResize"),E.set("winResize",function(){E.clear("winResize"),E.clear("winResizeRepeater"),ea()},a),E.data.winResizeRepeater||La())},La=function(){var a=Number(m.resizeWithWindowMaxDelay);a>0&&E.set("winResizeRepeater",function(){La(),ea()},a)},Ma=function(){var a=m;l.cookie=qa(),t(null,a.onunload_start),a.useStateCookie&&a.cookie.autoSave&&pa(),t(null,a.onunload_end||a.onunload)},Na=function(a){if(!a||a=="all")a=k.borderPanes;f.each(a.split(","),function(a,b){var c=m[b];if(c.enableCursorHotkey||c.customHotkey)return f(document).bind("keydown."+v,o),!1})},Wa=function(){function a(a){for(var c in b)a[c]!=void 0&&(a[b[c]]=a[c],delete a[c])}j=Ta(j);var b={applyDefaultStyles:"applyDemoStyles"};a(j.defaults),f.each(k.allPanes.split(","),function(b,c){a(j[c])}),j.effects&&(f.extend(ra,j.effects),delete j.effects),f.extend(m.cookie,j.cookie),f.each("name,containerClass,zIndex,scrollToBookmarkOnLoad,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,onresizeall,onresizeall_start,onresizeall_end,onload,onload_start,onload_end,onunload,onunload_start,onunload_end,autoBindCustomButtons,useStateCookie".split(","),function(a,b){j[b]!==void 0?m[b]=j[b]:j.defaults[b]!==void 0&&(m[b]=j.defaults[b],delete j.defaults[b])}),f.each("paneSelector,resizerCursor,customHotkey".split(","),function(a,b){delete j.defaults[b]}),f.extend(!0,m.defaults,j.defaults),k.center=f.extend(!0,{},k.panes,k.center);var c=m.zIndex;if(c===0||c>0)k.zIndex.pane_normal=c,k.zIndex.resizer_normal=c+1,k.zIndex.iframe_mask=c+1;f.extend(m.center,j.center);var d=f.extend(!0,{},m.defaults,j.defaults,m.center),c="paneClass,contentSelector,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,onresize,onresize_start,onresize_end,resizeNestedLayout,resizeContentWhileDragging,onsizecontent,onsizecontent_start,onsizecontent_end".split(",");f.each(c,function(a,b){m.center[b]=d[b]});var e,g=m.defaults;f.each(k.borderPanes.split(","),function(a,b){k[b]=f.extend(!0,{},k.panes,k[b]),e=m[b]=f.extend(!0,{},m.defaults,m[b],j.defaults,j[b]),e.paneClass||(e.paneClass="ui-layout-pane"),e.resizerClass||(e.resizerClass="ui-layout-resizer"),e.togglerClass||(e.togglerClass="ui-layout-toggler"),f.each(["_open","_close",""],function(a,c){var d="fxName"+c,i="fxSpeed"+c,k="fxSettings"+c;e[d]=j[b][d]||j[b].fxName||j.defaults[d]||j.defaults.fxName||e[d]||e.fxName||g[d]||g.fxName||"none";var l=e[d];if(l=="none"||!f.effects||!f.effects[l]||!ra[l]&&!e[k]&&!e.fxSettings)l=e[d]="none";l=ra[l]||{},d=l.all||{},l=l[b]||{},e[k]=f.extend({},d,l,g.fxSettings||{},g[k]||{},e.fxSettings,e[k],j.defaults.fxSettings,j.defaults[k]||{},j[b].fxSettings,j[b][k]||{}),e[i]=j[b][i]||j[b].fxSpeed||j.defaults[i]||j.defaults.fxSpeed||e[i]||e[k].duration||e.fxSpeed||e.fxSettings.duration||g.fxSpeed||g.fxSettings.duration||l.duration||d.duration||"normal"})})},Oa=function(a){a=m[a].paneSelector;if(a.substr(0,1)==="#")return G.find(a).eq(0);var b=G.children(a).eq(0);return b.length?b:G.children("form:first").children(a).eq(0)},Xa=function(){f.each(k.allPanes.split(","),function(a,b){Pa(b)}),va(),f.each(k.borderPanes.split(","),function(a,b){q[b]&&l[b].isVisible&&(Q(b),V(b))}),W("center"),f.each(k.allPanes.split(","),function(a,b){var c=m[b];q[b]&&l[b].isVisible&&(c.triggerEventsOnLoad&&t(b,c.onresize_end||c.onresize),aa(b))}),G.innerHeight()<2&&alert(D.errContainerHeight.replace(/CONTAINER/,u.ref))},Pa=function(a){var b=m[a],c=l[a],d=k[a],e=d.dir,f=a=="center",g={},h=q[a],i;h?wa(a):N[a]=!1,h=q[a]=Oa(a);if(h.length){h.data("layoutCSS")||h.data("layoutCSS",na(h,"position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border")),h.data("parentLayout",da).data("layoutRole","pane").data("layoutEdge",a).css(d.cssReq).css("zIndex",k.zIndex.pane_normal).css(b.applyDemoStyles?d.cssDemo:{}).addClass(b.paneClass+" "+b.paneClass+"-"+a).bind("mouseenter."+v,ta).bind("mouseleave."+v,R),Qa(a,!1),f||(i=c.size=U(a,b.size),d=U(a,b.minSize)||1,f=U(a,b.maxSize)||1e5,i>0&&(i=y(Math.min(i,f),d)),c.isClosed=!1,c.isSliding=!1,c.isResizing=!1,c.isHidden=!1),c.tagName=h.attr("tagName"),c.edge=a,c.noRoom=!1,c.isVisible=!0;switch(a){case"north":g.top=u.insetTop,g.left=u.insetLeft,g.right=u.insetRight;break;case"south":g.bottom=u.insetBottom,g.left=u.insetLeft,g.right=u.insetRight;break;case"west":g.left=u.insetLeft;break;case"east":g.right=u.insetRight}e=="horz"?g.height=y(1,L(a,i)):e=="vert"&&(g.width=y(1,K(a,i))),h.css(g),e!="horz"&&W(a,!0),c.noRoom||h.css({visibility:"visible",display:"block"}),b.initClosed&&b.closable?J(a,!0,!0):(b.initHidden||b.initClosed)&&la(a),b.showOverflowOnHover&&h.hover(p,r),l.initialized&&(va(a),Na(a),ea(),c.isVisible&&(b.triggerEventsOnLoad&&t(a,b.onresize_end||b.onresize),aa(a)))}else q[a]=!1},va=function(a){if(!a||a=="all")a=k.borderPanes;f.each(a.split(","),function(a,b){var c=q[b];w[b]=!1,B[b]=!1;if(c){var c=m[b],d=l[b],e=c.resizerClass,g=c.togglerClass;k[b].side.toLowerCase();var h="-"+b,i=w[b]=f("<div></div>"),j=c.closable?B[b]=f("<div></div>"):!1;!d.isVisible&&c.slidable&&i.attr("title",c.sliderTip).css("cursor",c.sliderCursor),i.attr("id",c.paneSelector.substr(0,1)=="#"?c.paneSelector.substr(1)+"-resizer":"").data("parentLayout",da).data("layoutRole","resizer").data("layoutEdge",b).css(k.resizers.cssReq).css("zIndex",k.zIndex.resizer_normal).css(c.applyDemoStyles?k.resizers.cssDemo:{}).addClass(e+" "+e+h).appendTo(G),j&&(j.attr("id",c.paneSelector.substr(0,1)=="#"?c.paneSelector.substr(1)+"-toggler":"").data("parentLayout",da).data("layoutRole","toggler").data("layoutEdge",b).css(k.togglers.cssReq).css(c.applyDemoStyles?k.togglers.cssDemo:{}).addClass(g+" "+g+h).appendTo(i),c.togglerContent_open&&f("<span>"+c.togglerContent_open+"</span>").data("layoutRole","togglerContent").data("layoutEdge",b).addClass("content content-open").css("display","none").appendTo(j),c.togglerContent_closed&&f("<span>"+c.togglerContent_closed+"</span>").data("layoutRole","togglerContent").data("layoutEdge",b).addClass("content content-closed").css("display","none").appendTo(j),Ra(b)),Ya(b),d.isVisible?xa(b):(ya(b),ba(b,!0))}}),ja("all")},Qa=function(a,b){var c=m[a],d=c.contentSelector,e=q[a],f;d&&(f=N[a]=c.findNestedContent?e.find(d).eq(0):e.children(d).eq(0)),f&&f.length?(f.data("layoutCSS")||f.data("layoutCSS",na(f,"height")),f.css(k.content.cssReq),c.applyDemoStyles&&(f.css(k.content.cssDemo),e.css(k.content.cssDemoPane)),l[a].content={},b!==!1&&fa(a)):N[a]=!1},Za=function(){var a;f.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(b,c){f.each(k.borderPanes.split(","),function(b,d){f(".ui-layout-button-"+c+"-"+d).each(function(){a=f(this).data("layoutName")||f(this).attr("layoutName"),(a==void 0||a==m.name)&&C(this,c,d)})})})},Ya=function(a){var b=typeof f.fn.draggable=="function",c;if(!a||a=="all")a=k.borderPanes;f.each(a.split(","),function(a,d){var e=m[d],g=l[d],h=k[d],i=h.dir=="horz"?"top":"left",j,n;if(!b||!q[d]||!e.resizable)return e.resizable=!1,!0;var o=w[d],p=e.resizerClass,r=p+"-drag",s=p+"-"+d+"-drag",x=p+"-dragging",y=p+"-"+d+"-dragging",z=p+"-dragging-limit",A=p+"-"+d+"-dragging-limit",B=!1;g.isClosed||o.attr("title",e.resizerTip).css("cursor",e.resizerCursor),o.bind("mouseenter."+v,Ka).bind("mouseleave."+v,ua),o.draggable({containment:G[0],axis:h.dir=="horz"?"y":"x",delay:0,distance:1,helper:"clone",opacity:e.resizerDragOpacity,addClasses:!1,zIndex:k.zIndex.resizer_drag,start:function(){e=m[d],g=l[d],n=e.resizeWhileDragging;if(!1===t(d,e.ondrag_start))return!1;k.isLayoutBusy=!0,g.isResizing=!0,E.clear(d+"_closeSlider"),Q(d),j=g.resizerPosition,o.addClass(r+" "+s),B=!1,c=f(e.maskIframesOnResize===!0?"iframe":e.maskIframesOnResize).filter(":visible");var a,b=0;c.each(function(){a="ui-layout-mask-"+ ++b,f(this).data("layoutMaskID",a),f('<div id="'+a+'" class="ui-layout-mask ui-layout-mask-'+d+'"/>').css({background:"#fff",opacity:"0.001",zIndex:k.zIndex.iframe_mask,position:"absolute",width:this.offsetWidth+"px",height:this.offsetHeight+"px"}).css(f(this).position()).appendTo(this.parentNode)}),f("body").disableSelection()},drag:function(a,b){B||(b.helper.addClass(x+" "+y).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),B=!0,g.isSliding&&q[d].css("zIndex",k.zIndex.pane_sliding));var c=0;b.position[i]<j.min?(b.position[i]=j.min,c=-1):b.position[i]>j.max&&(b.position[i]=j.max,c=1),c?(b.helper.addClass(z+" "+A),window.defaultStatus="Panel has reached its "+(c>0&&d.match(/north|west/)||c<0&&d.match(/south|east/)?"maximum":"minimum")+" size"):(b.helper.removeClass(z+" "+A),window.defaultStatus=""),n&&C(a,b,d)},stop:function(a,b){f("body").enableSelection(),window.defaultStatus="",o.removeClass(r+" "+s),g.isResizing=!1,k.isLayoutBusy=!1,C(a,b,d,!0)}});var C=function(a,b,d,g){var a=b.position,b=k[d],h;switch(d){case"north":h=a.top;break;case"west":h=a.left;break;case"south":h=u.offsetHeight-a.top-e.spacing_open;break;case"east":h=u.offsetWidth-a.left-e.spacing_open}if(g){if(f("div.ui-layout-mask").each(function(){this.parentNode.removeChild(this)}),!1===t(d,e.ondrag_end||e.ondrag))return!1}else c.each(function(){f("#"+f(this).data("layoutMaskID")).css(f(this).position()).css({width:this.offsetWidth+"px",height:this.offsetHeight+"px"})});za(d,h-u["inset"+b.side])}})},wa=function(a,b,c){if(q[a]){var d=q[a],e=N[a],g=w[a],h=B[a],i=m[a].paneClass,j=i+"-"+a,i=[i,i+"-open",i+"-closed",i+"-sliding",j,j+"-open",j+"-closed",j+"-sliding"];f.merge(i,sa(d,!0)),d&&d.length&&(b&&!d.data("layoutContainer")&&(!e||!e.length||!e.data("layoutContainer"))?d.remove():(d.removeClass(i.join(" ")).removeData("layoutParent").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+v),d.data("layoutContainer")||d.css(d.data("layoutCSS")).removeData("layoutCSS"),e&&e.length&&!e.data("layoutContainer")&&e.css(e.data("layoutCSS")).removeData("layoutCSS"))),h&&h.length&&h.remove(),g&&g.length&&g.remove(),q[a]=N[a]=w[a]=B[a]=!1,c||(ea(),l[a]={})}},la=function(a,b){var c=m[a],d=l[a],e=q[a],f=w[a];e&&!d.isHidden&&(!l.initialized||!1!==t(a,c.onhide_start))&&((d.isSliding=!1,f&&f.hide(),!l.initialized||d.isClosed)?(d.isClosed=!0,d.isHidden=!0,d.isVisible=!1,e.hide(),W(k[a].dir=="horz"?"all":"center"),l.initialized||c.triggerEventsOnLoad)&&t(a,c.onhide_end||c.onhide):(d.isHiding=!0,J(a,!1,b)))},ha=function(a,b,c,d){var e=l[a];q[a]&&e.isHidden&&!1!==t(a,m[a].onshow_start)&&(e.isSliding=!1,e.isShowing=!0,b===!1?J(a,!0):M(a,!1,c,d))},ca=function(a,b){I(a)||(a.stopImmediatePropagation(),a=f(this).data("layoutEdge"));var c=l[I(a)?f.trim(a):a==void 0||a==null?"":a];c.isHidden?ha(a):c.isClosed?M(a,!!b):J(a)},$a=function(a){var b=l[a];q[a].hide(),b.isClosed=!0,b.isVisible=!1},J=function(a,b,c,d){function e(){if(h.isClosed){ba(a,!0);var b=k.altSide[a];l[b].noRoom&&(Q(b),V(b)),!d&&(l.initialized||g.triggerEventsOnLoad)&&(i||t(a,g.onclose_end||g.onclose),i&&t(a,g.onshow_end||g.onshow),j&&t(a,g.onhide_end||g.onhide))}Ha(a)}if(l.initialized){var f=q[a],g=m[a],h=l[a],c=!c&&!h.isClosed&&g.fxName_close!="none",i=h.isShowing,j=h.isHiding;delete h.isShowing,delete h.isHiding;if(f&&(g.closable||i||j)&&(b||!h.isClosed||i))if(k.isLayoutBusy)Ga("close",a,b);else if(i||!1!==t(a,g.onclose_start))k[a].isMoving=!0,k.isLayoutBusy=!0,h.isClosed=!0,h.isVisible=!1,j?h.isHidden=!0:i&&(h.isHidden=!1),h.isSliding?ka(a,!1):W(k[a].dir=="horz"?"all":"center",!1),ya(a),c?(oa(a,!0),f.hide(g.fxName_close,g.fxSettings_close,g.fxSpeed_close,function(){oa(a,!1),e()})):(f.hide(),e())}else $a(a)},ya=function(a){var b=w[a],c=B[a],d=m[a],e=k[a].side.toLowerCase(),g=d.resizerClass,h=d.togglerClass,i="-"+a;b.css(e,u["inset"+k[a].side]).removeClass(g+"-open "+g+i+"-open").removeClass(g+"-sliding "+g+i+"-sliding").addClass(g+"-closed "+g+i+"-closed").unbind("dblclick."+v),d.resizable&&typeof f.fn.draggable=="function"&&b.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title",""),c&&(c.removeClass(h+"-open "+h+i+"-open").addClass(h+"-closed "+h+i+"-closed").attr("title",d.togglerTip_closed),c.children(".content-open").hide(),c.children(".content-closed").css("display","block")),S(a,!1),l.initialized&&ja("all")},M=function(a,b,c,d){function e(){h.isVisible&&(Ja(a),h.isSliding||W(k[a].dir=="vert"?"center":"all",!1),xa(a)),Ha(a)}var f=q[a],g=m[a],h=l[a],c=!c&&h.isClosed&&g.fxName_open!="none",i=h.isShowing;delete h.isShowing;if(f&&(g.resizable||g.closable||i)&&(!h.isVisible||h.isSliding))if(h.isHidden&&!i)ha(a,!0);else if(k.isLayoutBusy)Ga("open",a,b);else if(Q(a,b),!1!==t(a,g.onopen_start))h.minSize>h.maxSize?(S(a,!1),!d&&g.noRoomToOpenTip&&alert(g.noRoomToOpenTip)):(k[a].isMoving=!0,k.isLayoutBusy=!0,b?ka(a,!0):h.isSliding?ka(a,!1):g.slidable&&ba(a,!1),h.noRoom=!1,V(a),h.isVisible=!0,h.isClosed=!1,i&&(h.isHidden=!1),c?(oa(a,!0),f.show(g.fxName_open,g.fxSettings_open,g.fxSpeed_open,function(){oa(a,!1),e()})):(f.show(),e()))},xa=function(a,b){var c=q[a],d=w[a],e=B[a],g=m[a],h=l[a],i=k[a].side.toLowerCase(),j=g.resizerClass,n=g.togglerClass,o="-"+a;d.css(i,u["inset"+k[a].side]+P(a)).removeClass(j+"-closed "+j+o+"-closed").addClass(j+"-open "+j+o+"-open"),h.isSliding?d.addClass(j+"-sliding "+j+o+"-sliding"):d.removeClass(j+"-sliding "+j+o+"-sliding"),g.resizerDblClickToggle&&d.bind("dblclick",ca),R(0,d),g.resizable&&typeof f.fn.draggable=="function"?d.draggable("enable").css("cursor",g.resizerCursor).attr("title",g.resizerTip):h.isSliding||d.css("cursor","default"),e&&(e.removeClass(n+"-closed "+n+o+"-closed").addClass(n+"-open "+n+o+"-open").attr("title",g.togglerTip_open),R(0,e),e.children(".content-closed").hide(),e.children(".content-open").css("display","block")),S(a,!h.isSliding),f.extend(h,$(c)),l.initialized&&(ja("all"),fa(a,!0)),!b&&(l.initialized||g.triggerEventsOnLoad)&&c.is(":visible")&&(t(a,g.onopen_end||g.onopen),h.isShowing&&t(a,g.onshow_end||g.onshow),l.initialized&&(t(a,g.onresize_end||g.onresize),aa(a)))},Sa=function(a){function b(){e.isClosed?k[d].isMoving||M(d,!0):ka(d,!0)}var c=I(a)?null:a,d=c?f(this).data("layoutEdge"):a,e=l[d],a=m[d].slideDelay_open;c&&c.stopImmediatePropagation(),e.isClosed&&c&&c.type=="mouseenter"&&a>0?E.set(d+"_openSlider",b,a):b()},Aa=function(a){function b(){e.isClosed?ka(d,!1):k[d].isMoving||J(d)}var c=I(a)?null:a,d=c?f(this).data("layoutEdge"):a,a=m[d],e=l[d],g=k[d].isMoving?1e3:300;if(!e.isClosed&&!
e.isResizing)if(a.slideTrigger_close=="click")b();else if(!a.preventQuickSlideClose||!k.isLayoutBusy)if(!a.preventPrematureSlideClose||!c||!f.layout.isMouseOverElem(c,q[d]))c?E.set(d+"_closeSlider",b,y(a.slideDelay_close,g)):b()},oa=function(a,b){var c=q[a];if(b)c.css({zIndex:k.zIndex.pane_animate}),a=="south"?c.css({top:u.insetTop+u.innerHeight-c.outerHeight()}):a=="east"&&c.css({left:u.insetLeft+u.innerWidth-c.outerWidth()});else{c.css({zIndex:l[a].isSliding?k.zIndex.pane_sliding:k.zIndex.pane_normal}),a=="south"?c.css({top:"auto"}):a=="east"&&c.css({left:"auto"});var d=m[a];l.browser.msie&&d.fxOpacityFix&&d.fxName_open!="slide"&&c.css("filter")&&c.css("opacity")==1&&c[0].style.removeAttribute("filter")}},ba=function(a,b){var c=m[a],d=w[a],e=c.slideTrigger_open.toLowerCase();d&&(!b||c.slidable)&&(e.match(/mouseover/)?e=c.slideTrigger_open="mouseenter":e.match(/click|dblclick|mouseenter/)||(e=c.slideTrigger_open="click"),d[b?"bind":"unbind"](e+"."+v,Sa).css("cursor",b?c.sliderCursor:"default").attr("title",b?c.sliderTip:""))},ka=function(a,b){function c(b){E.clear(a+"_closeSlider"),b.stopPropagation()}var d=m[a],e=l[a],f=k.zIndex,g=d.slideTrigger_close.toLowerCase(),h=b?"bind":"unbind",i=q[a],j=w[a];e.isSliding=b,E.clear(a+"_closeSlider"),b&&ba(a,!1),i.css("zIndex",b?f.pane_sliding:f.pane_normal),j.css("zIndex",b?f.pane_sliding:f.resizer_normal),g.match(/click|mouseleave/)||(g=d.slideTrigger_close="mouseleave"),j[h](g,Aa),g=="mouseleave"&&(i[h]("mouseleave."+v,Aa),j[h]("mouseenter."+v,c),i[h]("mouseenter."+v,c)),b?g=="click"&&!d.resizable&&(j.css("cursor",b?d.sliderCursor:"default"),j.attr("title",b?d.togglerTip_open:"")):E.clear(a+"_closeSlider")},V=function(a,b,c,d){var b=m[a],e=l[a],f=k[a],g=q[a],h=w[a],i=f.dir=="vert",j=!1;if(a=="center"||i&&e.noVerticalRoom)(j=e.maxHeight>0)&&e.noRoom?(g.show(),h&&h.show(),e.isVisible=!0,e.noRoom=!1,i&&(e.noVerticalRoom=!1),Ja(a)):!j&&!e.noRoom&&(g.hide(),h&&h.hide(),e.isVisible=!1,e.noRoom=!0);if(a!="center")if(e.minSize<=e.maxSize){if(e.size>e.maxSize?Y(a,e.maxSize,c,d):e.size<e.minSize?Y(a,e.minSize,c,d):h&&g.is(":visible")&&(c=f.side.toLowerCase(),d=e.size+u["inset"+f.side],Z(h,c)!=d&&h.css(c,d)),e.noRoom)e.wasOpen&&b.closable?b.autoReopen?M(a,!1,!0,!0):e.noRoom=!1:ha(a,e.wasOpen,!0,!0)}else e.noRoom||(e.noRoom=!0,e.wasOpen=!e.isClosed&&!e.isSliding,e.isClosed||(b.closable?J(a,!0,!0):la(a,!0)))},za=function(a,b,c){var d=m[a],e=d.resizeWhileDragging&&!k.isLayoutBusy;d.autoResize=!1,Y(a,b,c,e)},Y=function(a,b,c,d){var e=m[a],g=l[a],h=q[a],i=w[a],j=k[a].side.toLowerCase(),n="inset"+k[a].side,o=k.isLayoutBusy&&!e.triggerEventsWhileDragging,p;Q(a),p=g.size,b=U(a,b),b=y(b,U(a,e.minSize)),b=Math.min(b,g.maxSize);if(b<g.minSize)V(a,!1,c);else if(d||b!=p)!c&&l.initialized&&g.isVisible&&t(a,e.onresize_start),h.css(k[a].sizeType.toLowerCase(),y(1,k[a].dir=="horz"?L(a,b):K(a,b))),g.size=b,f.extend(g,$(h)),i&&h.is(":visible")&&i.css(j,b+u[n]),fa(a),!c&&!o&&l.initialized&&g.isVisible&&(t(a,e.onresize_end||e.onresize),aa(a)),c||(g.isSliding||W(k[a].dir=="horz"?"all":"center",o,d),ja("all")),a=k.altSide[a],b<p&&l[a].noRoom&&(Q(a),V(a,!1,c))},W=function(a,b,c){if(!a||a=="all")a="east,west,center";f.each(a.split(","),function(a,d){if(q[d]){var e=m[d],g=l[d],h=q[d],i=!0,j={},i={top:P("north",!0),bottom:P("south",!0),left:P("west",!0),right:P("east",!0),width:0,height:0};i.width=u.innerWidth-i.left-i.right,i.height=u.innerHeight-i.bottom-i.top,i.top+=u.insetTop,i.bottom+=u.insetBottom,i.left+=u.insetLeft,i.right+=u.insetRight,f.extend(g,$(h));if(d=="center"){if(!c&&g.isVisible&&i.width==g.outerWidth&&i.height==g.outerHeight)return!0;f.extend(g,ma(d),{maxWidth:i.width,maxHeight:i.height}),j=i,j.width=K(d,i.width),j.height=L(d,i.height),i=j.width>0&&j.height>0;if(!i&&!l.initialized&&e.minWidth>0){var k=e.minWidth-g.outerWidth,n=m.east.minSize||0,o=m.west.minSize||0,p=l.east.size,r=l.west.size,s=p,v=r;k>0&&l.east.isVisible&&p>n&&(s=y(p-n,p-k),k-=p-s),k>0&&l.west.isVisible&&r>o&&(v=y(r-o,r-k),k-=r-v);if(k==0){p!=n&&Y("east",s,!0),r!=o&&Y("west",v,!0),W("center",b,c);return}}}else{g.isVisible&&!g.noVerticalRoom&&f.extend(g,$(h),ma(d));if(!c&&!g.noVerticalRoom&&i.height==g.outerHeight)return!0;j.top=i.top,j.bottom=i.bottom,j.height=L(d,i.height),g.maxHeight=y(0,j.height),i=g.maxHeight>0,i||(g.noVerticalRoom=!0)}i?(!b&&l.initialized&&t(d,e.onresize_start),h.css(j),g.noRoom&&!g.isClosed&&!g.isHidden&&V(d),g.isVisible&&(f.extend(g,$(h)),l.initialized&&fa(d))):!g.noRoom&&g.isVisible&&V(d);if(!g.isVisible)return!0;d=="center"&&(g=l.browser,g=g.isIE6||g.msie&&!g.boxModel,q.north&&(g||l.north.tagName=="IFRAME")&&q.north.css("width",K(q.north,u.innerWidth)),q.south&&(g||l.south.tagName=="IFRAME")&&q.south.css("width",K(q.south,u.innerWidth))),!b&&l.initialized&&(t(d,e.onresize_end||e.onresize),aa(d))}})},ea=function(){f.extend(l.container,$(G));if(u.outerHeight){if(!1===t(null,m.onresizeall_start))return!1;var a,b,c;f.each(["south","north","east","west"],function(a,d){q[d]&&(c=l[d],b=m[d],b.autoResize&&c.size!=b.size?Y(d,b.size,!0,!0):(Q(d),V(d,!1,!0,!0)))}),W("all",!0,!0),ja("all"),b=m,f.each(k.allPanes.split(","),function(c,d){(a=q[d])&&l[d].isVisible&&(t(d,b[d].onresize_end||b[d].onresize),aa(d))}),t(null,b.onresizeall_end||b.onresizeall)}},aa=function(a){var b=q[a],c=N[a];m[a].resizeNestedLayout&&(b.data("layoutContainer")?b.layout().resizeAll():c&&c.data("layoutContainer")&&c.layout().resizeAll())},fa=function(a,b){if(!a||a=="all")a=k.allPanes;f.each(a.split(","),function(a,c){function d(a){return y(i.css.paddingBottom,parseInt(a.css("marginBottom"),10)||0)}function e(){var a=m[c].contentIgnoreSelector,a=g.nextAll().not(a||":lt(0)"),b=a.filter(":visible"),e=b.filter(":last");j={top:g[0].offsetTop,height:g.outerHeight(),numFooters:a.length,hiddenFooters:a.length-b.length,spaceBelow:0},j.spaceAbove=j.top,j.bottom=j.top+j.height,j.spaceBelow=e.length?e[0].offsetTop+e.outerHeight()-j.bottom+d(e):d(g)}var f=q[c],g=N[c],h=m[c],i=l[c],j=i.content;if(!f||!g||!f.is(":visible"))return!0;if(!1!==t(null,h.onsizecontent_start)){if(!k.isLayoutBusy||j.top==void 0||b||h.resizeContentWhileDragging)e(),j.hiddenFooters>0&&f.css("overflow")=="hidden"&&(f.css("overflow","visible"),e(),f.css("overflow","hidden"));f=i.innerHeight-(j.spaceAbove-i.css.paddingTop)-(j.spaceBelow-i.css.paddingBottom);if(!g.is(":visible")||j.height!=f)Ua(g,f,!0),j.height=f;l.initialized&&(t(c,h.onsizecontent_end||h.onsizecontent),aa(c))}})},ja=function(a){if(!a||a=="all")a=k.borderPanes;f.each(a.split(","),function(a,b){var c=m[b],d=l[b],e=q[b],g=w[b],h=B[b],i;if(e&&g){var j=k[b].dir,n=d.isClosed?"_closed":"_open",o=c["spacing"+n],p=c["togglerAlign"+n],n=c["togglerLength"+n],r;if(o==0)g.hide();else{!d.noRoom&&!d.isHidden&&g.show(),j=="horz"?(r=e.outerWidth(),d.resizerLength=r,g.css({width:y(1,K(g,r)),height:y(0,L(g,o)),left:Z(e,"left")})):(r=e.outerHeight(),d.resizerLength=r,g.css({height:y(1,L(g,r)),width:y(0,K(g,o)),top:u.insetTop+P("north",!0)})),R(c,g);if(h){if(n==0||d.isSliding&&c.hideTogglerOnSlide){h.hide();return}h.show();if(!(n>0)||n=="100%"||n>r)n=r,p=0;else if(I(p))switch(p){case"top":case"left":p=0;break;case"bottom":case"right":p=r-n;break;default:p=Math.floor((r-n)/2)}else e=parseInt(p,10),p=p>=0?e:r-n+e;if(j=="horz"){var s=K(h,n);h.css({width:y(0,s),height:y(1,L(h,o)),left:p,top:0}),h.children(".content").each(function(){i=f(this),i.css("marginLeft",Math.floor((s-i.outerWidth())/2))})}else{var t=L(h,n);h.css({height:y(0,t),width:y(1,K(h,o)),top:p,left:0}),h.children(".content").each(function(){i=f(this),i.css("marginTop",Math.floor((t-i.outerHeight())/2))})}R(0,h)}!l.initialized&&(c.initHidden||d.noRoom)&&(g.hide(),h&&h.hide())}}})},Ra=function(a){var b=B[a],c=m[a];b&&(c.closable=!0,b.bind("click."+v,function(b){b.stopPropagation(),ca(a)}).bind("mouseenter."+v,ta).bind("mouseleave."+v,R).css("visibility","visible").css("cursor","pointer").attr("title",l[a].isClosed?c.togglerTip_closed:c.togglerTip_open).show())},G=f(this).eq(0);if(!G.length)return null;if(G.data("layoutContainer")&&G.data("layout"))return G.data("layout");var q={},N={},w={},B={},u=l.container,v=l.id,da={options:m,state:l,container:G,panes:q,contents:N,resizers:w,togglers:B,toggle:ca,hide:la,show:ha,open:M,close:J,slideOpen:Sa,slideClose:Aa,slideToggle:function(a){ca(a,!0)},initContent:Qa,sizeContent:fa,sizePane:za,swapPanes:function(a,b){function c(a){var b=q[a],c=N[a];return b?{pane:a,P:b?b[0]:!1,C:c?c[0]:!1,state:f.extend({},l[a]),options:f.extend({},m[a])}:!1}function d(a,b){if(a){var c=a.P,d=a.C,e=a.pane,g=k[b],i=g.side.toLowerCase(),j="inset"+g.side,n=f.extend({},l[b]),o=m[b],p={resizerCursor:o.resizerCursor};f.each("fxName,fxSpeed,fxSettings".split(","),function(a,b){p[b]=o[b],p[b+"_open"]=o[b+"_open"],p[b+"_close"]=o[b+"_close"]}),q[b]=f(c).data("layoutEdge",b).css(k.hidden).css(g.cssReq),N[b]=d?f(d):!1,m[b]=f.extend({},a.options,p),l[b]=f.extend({},a.state),c.className=c.className.replace(RegExp(o.paneClass+"-"+e,"g"),o.paneClass+"-"+b),va(b),g.dir!=k[e].dir?(c=h[b]||0,Q(b),c=y(c,l[b].minSize),za(b,c,!0)):w[b].css(i,u[j]+(l[b].isVisible?P(b):0)),a.state.isVisible&&!n.isVisible?xa(b,!0):(ya(b),ba(b,!0)),a=null}}l[a].edge=b,l[b].edge=a;var e=!1;!1===t(a,m[a].onswap_start)&&(e=!0),!e&&!1===t(b,m[b].onswap_start)&&(e=!0);if(e)l[a].edge=a,l[b].edge=b;else{var e=c(a),g=c(b),h={};h[a]=e?e.state.size:0,h[b]=g?g.state.size:0,q[a]=!1,q[b]=!1,l[a]={},l[b]={},B[a]&&B[a].remove(),B[b]&&B[b].remove(),w[a]&&w[a].remove(),w[b]&&w[b].remove(),w[a]=w[b]=B[a]=B[b]=!1,d(e,b),d(g,a),e=g=h=null,q[a]&&q[a].css(k.visible),q[b]&&q[b].css(k.visible),ea(),t(a,m[a].onswap_end||m[a].onswap),t(b,m[b].onswap_end||m[b].onswap)}},resizeAll:ea,destroy:function(){f(window).unbind("."+v),f(document).unbind("."+v),f.each(k.allPanes.split(","),function(a,b){wa(b,!1,!0)});var a=G.removeData("layout").removeData("layoutContainer").removeClass(m.containerClass);!a.data("layoutEdge")&&a.data("layoutCSS")&&a.css(a.data("layoutCSS")).removeData("layoutCSS"),u.tagName=="BODY"&&(a=f("html")).data("layoutCSS")&&a.css(a.data("layoutCSS")).removeData("layoutCSS"),Ma()},addPane:Pa,removePane:wa,setSizeLimits:Q,bindButton:C,addToggleBtn:H,addOpenBtn:x,addCloseBtn:z,addPinBtn:Ba,allowOverflow:p,resetOverflow:r,encodeJSON:Da,decodeJSON:Ca,getState:qa,getCookie:X,saveCookie:pa,deleteCookie:function(){pa("",{expires:-1})},loadCookie:Ea,loadState:Fa,cssWidth:K,cssHeight:L,enableClosable:Ra,disableClosable:function(a,b){var c=B[a];c&&(m[a].closable=!1,l[a].isClosed&&M(a,!1,!0),c.unbind("."+v).css("visibility",b?"hidden":"visible").css("cursor","default").attr("title",""))},enableSlidable:function(a){var b=w[a];b&&b.data("draggable")&&(m[a].slidable=!0,s.isClosed&&ba(a,!0))},disableSlidable:function(a){var b=w[a];b&&(m[a].slidable=!1,l[a].isSliding?J(a,!1,!0):(ba(a,!1),b.css("cursor","default").attr("title",""),R(null,b[0])))},enableResizable:function(a){var b=w[a],c=m[a];b&&b.data("draggable")&&(c.resizable=!0,b.draggable("enable").bind("mouseenter."+v,Ka).bind("mouseleave."+v,ua),l[a].isClosed||b.css("cursor",c.resizerCursor).attr("title",c.resizerTip))},disableResizable:function(a){var b=w[a];b&&b.data("draggable")&&(m[a].resizable=!1,b.draggable("disable").unbind("."+v).css("cursor","default").attr("title",""),R(null,b[0]))}};return function(){Wa();var a=m;if(!1===t(null,a.onload_start))return!1;if(!Oa("center").length)return alert(D.errCenterPaneMissing),null;a.useStateCookie&&a.cookie.autoLoad&&Ea(),l.browser={mozilla:f.browser.mozilla,webkit:f.browser.webkit||f.browser.safari,msie:f.browser.msie,isIE6:f.browser.msie&&f.browser.version==6,boxModel:f.support.boxModel};var b=G,c=u.tagName=b.attr("tagName"),d=c=="BODY",e={};u.selector=b.selector.split(".slice")[0],u.ref=c+"/"+u.selector,b.data("layout",da).data("layoutContainer",v).addClass(m.containerClass),b.data("layoutCSS")||(d?(e=f.extend(na(b,"position,margin,padding,border"),{height:b.css("height"),overflow:b.css("overflow"),overflowX:b.css("overflowX"),overflowY:b.css("overflowY")}),c=f("html"),c.data("layoutCSS",{height:"auto",overflow:c.css("overflow"),overflowX:c.css("overflowX"),overflowY:c.css("overflowY")})):e=na(b,"position,margin,padding,border,top,bottom,left,right,width,height,overflow,overflowX,overflowY"),b.data("layoutCSS",e));try{if(d)f("html").css({height:"100%",overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}),f("body").css({position:"relative",height:"100%",overflow:"hidden",overflowX:"hidden",overflowY:"hidden",margin:0,padding:0,border:"none"});else{var e={overflow:"hidden"},g=b.css("position");b.css("height"),!b.data("layoutRole")&&(!g||!g.match(/fixed|absolute|relative/))&&(e.position="relative"),b.css(e),b.is(":visible")&&b.innerHeight()<2&&alert(D.errContainerHeight.replace(/CONTAINER/,u.ref))}}catch(h){}f.extend(l.container,$(b)),Xa(),fa(),a.scrollToBookmarkOnLoad&&(b=self.location,b.hash&&b.replace(b.hash)),Na(),a.autoBindCustomButtons&&Za(),a.resizeWithWindow&&!G.data("layoutRole")&&f(window).bind("resize."+v,Va),f(window).bind("unload."+v,Ma),l.initialized=!0,t(null,a.onload_end||a.onload)}(),da}})(jQuery)});