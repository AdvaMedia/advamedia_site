define(["aloha/jquery"],function(jQuery){var $=jQuery;(function(f){var C=f.browser;f.layout={browser:{mozilla:!!C.mozilla,webkit:!!C.webkit||!!C.safari,msie:!!C.msie,isIE6:!!C.msie&&C.version==6,boxModel:!1},scrollbarWidth:function(){return window.scrollbarWidth||f.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||f.layout.getScrollbarSize("height")},getScrollbarSize:function(e){var t=f('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),window.scrollbarWidth=n.width,window.scrollbarHeight=n.height,e.match(/^(width|height)$/i)?n[e]:n},showInvisibly:function(e,t){if(!e)return{};e.jquery||(e=f(e));var n={display:e.css("display"),visibility:e.css("visibility")};return t||n.display=="none"?(e.css({display:"block",visibility:"hidden"}),n):{}},getElemDims:function(e){var t={},n=t.css={},r={},i,s,o=e.offset();return t.offsetLeft=o.left,t.offsetTop=o.top,f.each("Left,Right,Top,Bottom".split(","),function(o,u){i=n["border"+u]=f.layout.borderWidth(e,u),s=n["padding"+u]=f.layout.cssNum(e,"padding"+u),r[u]=i+s,t["inset"+u]=s}),t.offsetWidth=e.innerWidth(),t.offsetHeight=e.innerHeight(),t.outerWidth=e.outerWidth(),t.outerHeight=e.outerHeight(),t.innerWidth=t.outerWidth-r.Left-r.Right,t.innerHeight=t.outerHeight-r.Top-r.Bottom,n.width=e.width(),n.height=e.height(),t},getElemCSS:function(e,t){var n={},r=e[0].style,i=t.split(","),s="Top,Bottom,Left,Right".split(","),o="Color,Style,Width".split(","),u,a,f,l,c,h;for(l=0;l<i.length;l++)if(u=i[l],u.match(/(border|padding|margin)$/))for(c=0;c<4;c++)if(a=s[c],u=="border")for(h=0;h<3;h++)f=o[h],n[u+a+f]=r[u+a+f];else n[u+a]=r[u+a];else n[u]=r[u];return n},cssWidth:function(e,t){var n=f.layout.borderWidth,r=f.layout.cssNum;return t<=0?0:f.layout.browser.boxModel?(n=t-n(e,"Left")-n(e,"Right")-r(e,"paddingLeft")-r(e,"paddingRight"),Math.max(0,n)):t},cssHeight:function(e,t){var n=f.layout.borderWidth,r=f.layout.cssNum;return t<=0?0:f.layout.browser.boxModel?(n=t-n(e,"Top")-n(e,"Bottom")-r(e,"paddingTop")-r(e,"paddingBottom"),Math.max(0,n)):t},cssNum:function(e,t){e.jquery||(e=f(e));var n=f.layout.showInvisibly(e),r=parseInt(f.curCSS(e[0],t,!0),10)||0;return e.css(n),r},borderWidth:function(e,t){e.jquery&&(e=e[0]);var n="border"+t.substr(0,1).toUpperCase()+t.substr(1);return f.curCSS(e,n+"Style",!0)=="none"?0:parseInt(f.curCSS(e,n+"Width",!0),10)||0},isMouseOverElem:function(e,t){var n=f(t||this),r=n.offset(),i=r.top,r=r.left,s=r+n.outerWidth(),n=i+n.outerHeight(),o=e.pageX,u=e.pageY;return f.layout.browser.msie&&o<0&&u<0||o>=r&&o<=s&&u>=i&&u<=n}},f.fn.layout=function(j){function o(e){if(!e)return!0;var t=e.keyCode;if(t<33)return!0;var n={38:"north",40:"south",37:"west",39:"east"},r=e.shiftKey,i=e.ctrlKey,s,o,u,a;return i&&t>=37&&t<=40&&m[n[t]].enableCursorHotkey?a=n[t]:(i||r)&&f.each(k.borderPanes.split(","),function(e,n){s=m[n],o=s.customHotkey,u=s.customHotkeyModifier;if(r&&u=="SHIFT"||i&&u=="CTRL"||i&&r)if(o&&t==(isNaN(o)||o<=9?o.toUpperCase().charCodeAt(0):o))return a=n,!1}),!a||!q[a]||!m[a].closable||l[a].isHidden?!0:(ca(a),e.stopPropagation(),e.returnValue=!1)}function p(e){this&&this.tagName&&(e=this);var t;I(e)?t=q[e]:f(e).data("layoutRole")?t=f(e):f(e).parents().each(function(){if(f(this).data("layoutRole"))return t=f(this),!1});if(t&&t.length){var n=t.data("layoutEdge"),e=l[n];e.cssSaved&&r(n);if(e.isSliding||e.isResizing||e.isClosed)e.cssSaved=!1;else{var i={zIndex:k.zIndex.pane_normal+2},s={},o=t.css("overflow"),u=t.css("overflowX"),a=t.css("overflowY");o!="visible"&&(s.overflow=o,i.overflow="visible"),u&&!u.match(/visible|auto/)&&(s.overflowX=u,i.overflowX="visible"),a&&!a.match(/visible|auto/)&&(s.overflowY=u,i.overflowY="visible"),e.cssSaved=s,t.css(i),f.each(k.allPanes.split(","),function(e,t){t!=n&&r(t)})}}}function r(e){this&&this.tagName&&(e=this);var t;I(e)?t=q[e]:f(e).data("layoutRole")?t=f(e):f(e).parents().each(function(){if(f(this).data("layoutRole"))return t=f(this),!1});if(t&&t.length){var e=t.data("layoutEdge"),e=l[e],n=e.cssSaved||{};!e.isSliding&&!e.isResizing&&t.css("zIndex",k.zIndex.pane_normal),t.css(n),e.cssSaved=!1}}function F(e,t,n){var r=f(e);if(r.length){if(k.borderPanes.indexOf(t)!=-1)return e=m[t].buttonClass+"-"+n,r.addClass(e+" "+e+"-"+t).data("layoutName",m.name),r;alert(D.errButton+D.Pane.toLowerCase()+": "+t)}else alert(D.errButton+D.selector+": "+e);return null}function C(e,t,n){switch(t.toLowerCase()){case"toggle":H(e,n);break;case"open":x(e,n);break;case"close":z(e,n);break;case"pin":Ba(e,n);break;case"toggle-slide":H(e,n,!0);break;case"open-slide":x(e,n,!0)}}function H(e,t,n){(e=F(e,t,"toggle"))&&e.click(function(e){ca(t,!!n),e.stopPropagation()})}function x(e,t,n){(e=F(e,t,"open"))&&e.attr("title",D.Open).click(function(e){M(t,!!n),e.stopPropagation()})}function z(e,t){var n=F(e,t,"close");n&&n.attr("title",D.Close).click(function(e){J(t),e.stopPropagation()})}function Ba(e,t){var n=F(e,t,"pin");if(n){var r=l[t];n.click(function(e){T(f(this),t,r.isSliding||r.isClosed),r.isSliding||r.isClosed?M(t):J(t),e.stopPropagation()}),T(n,t,!r.isClosed&&!r.isSliding),k[t].pins.push(e)}}function S(e,t){f.each(k[e].pins,function(n,r){T(f(r),e,t)})}function T(e,t,n){var r=e.attr("pin");if(!r||n!=(r=="down")){var r=m[t].buttonClass+"-pin",i=r+"-"+t,t=r+"-up "+i+"-up",r=r+"-down "+i+"-down";e.attr("pin",n?"down":"up").attr("title",n?D.Unpin:D.Pin).removeClass(n?t:r).addClass(n?r:t)}}function X(e){for(var e=f.extend({},m.cookie,e||{}).name||m.name||"Layout",t=document.cookie,t=t?t.split(";"):[],n,r=0,i=t.length;r<i;r++)if(n=f.trim(t[r]).split("="),n[0]==e)return Ca(decodeURIComponent(n[1]));return""}function pa(e,t){var n=f.extend({},m.cookie,t||{}),r=n.name||m.name||"Layout",i="",s="",o=!1;return n.expires.toUTCString?s=n.expires:typeof n.expires=="number"&&(s=new Date,n.expires>0?s.setDate(s.getDate()+n.expires):(s.setYear(1970),o=!0)),s&&(i+=";expires="+s.toUTCString()),n.path&&(i+=";path="+n.path),n.domain&&(i+=";domain="+n.domain),n.secure&&(i+=";secure"),o?(l.cookie={},document.cookie=r+"="+i):(l.cookie=qa(e||n.keys),document.cookie=r+"="+encodeURIComponent(Da(l.cookie))+i),f.extend({},l.cookie)}function Ea(e){if(e=X(e))l.cookie=f.extend({},e),Fa(e);return e}function Fa(e,t){f.extend(!0,m,e);if(l.initialized){var n,r,i=!t;f.each(k.allPanes.split(","),function(t,s){n=e[s],typeof n=="object"&&(r=n.initHidden,r===!0&&la(s,i),r===!1&&ha(s,!1,i),r=n.size,r>0&&Y(s,r),r=n.initClosed,r===!0&&J(s,!1,i),r===!1&&M(s,!1,i))})}}function qa(e){var t={},n={isClosed:"initClosed",isHidden:"initHidden"},r,i,s;e||(e=m.cookie.keys),f.isArray(e)&&(e=e.join(","));for(var e=e.replace(/__/g,".").split(","),o=0,u=e.length;o<u;o++)r=e[o].split("."),i=r[0],r=r[1],k.allPanes.indexOf(i)<0||(s=l[i][r],s!=void 0&&(r=="isClosed"&&l[i].isSliding&&(s=!0),(t[i]||(t[i]={}))[n[r]?n[r]:r]=s));return t}function Da(e){function t(e){var n=[],r=0,i,s,o;for(i in e)s=e[i],o=typeof s,o=="string"?s='"'+s+'"':o=="object"&&(s=t(s)),n[r++]='"'+i+'":'+s;return"{"+n.join(",")+"}"}return t(e)}function Ca(e){try{return window.eval("("+e+")")||{}}catch(t){return{}}}var D={Pane:"Pane",Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",selector:"selector",msgNoRoom:"Not enough room to show this pane.",errContainerMissing:"UI Layout Initialization Error\n\nThe specified layout-container does not exist.",errCenterPaneMissing:"UI Layout Initialization Error\n\nThe center-pane element does not exist.\n\nThe center-pane is a required element.",errContainerHeight:"UI Layout Initialization Warning\n\nThe layout-container \"CONTAINER\" has no height.\n\nTherefore the layout is 0-height and hence 'invisible'!",errButton:"Error Adding Button \n\nInvalid "},m={name:"",containerClass:"ui-layout-container",scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,autoBindCustomButtons:!1,zIndex:null,defaults:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerTip_open:D.Close,togglerTip_closed:D.Open,togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskIframesOnResize:!0,resizeNestedLayout:!0,resizeWhileDragging:!1,resizeContentWhileDragging:!1,noRoomToOpenTip:D.msgNoRoom,resizerTip:D.Resize,sliderTip:D.Slide,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:!!f.browser.webkit||!!f.browser.safari,preventPrematureSlideClose:!1,showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,triggerEventsOnLoad:!1,triggerEventsWhileDragging:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0},useStateCookie:!1,cookie:{name:"",autoSave:!0,autoLoad:!0,domain:"",path:"",expires:"",secure:!1,keys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden"}},ra={slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}}},l={id:"layout"+(new Date).getTime(),initialized:!1,container:{},north:{},south:{},east:{},west:{},center:{},cookie:{}},k={allPanes:"north,south,west,east,center",borderPanes:"north,south,west,east",altSide:{north:"south",south:"north",east:"west",west:"east"},hidden:{visibility:"hidden"},visible:{visibility:"visible"},zIndex:{pane_normal:1,resizer_normal:2,iframe_mask:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"Top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"},pins:[]},south:{side:"Bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"},pins:[]},east:{side:"Right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"},pins:[]},west:{side:"Left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"},pins:[]},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},E={data:{},set:function(e,t,n){E.clear(e),E.data[e]=setTimeout(t,n)},clear:function(e){var t=E.data;t[e]&&(clearTimeout(t[e]),delete t[e])}},I=function(e){try{return typeof e=="string"||typeof e=="object"&&e.constructor.toString().match(/string/i)!==null}catch(t){return!1}},y=function(e,t){return Math.max(e,t)},Ta=function(e){var t,n={cookie:{},defaults:{fxSettings:{}},north:{fxSettings:{}},south:{fxSettings:{}},east:{fxSettings:{}},west:{fxSettings:{}},center:{fxSettings:{}}},e=e||{};return e.effects||e.cookie||e.defaults||e.north||e.south||e.west||e.east||e.center?n=f.extend(!0,n,e):f.each(e,function(e,r){t=e.split("__");if(!t[1]||n[t[0]])n[t[1]?t[0]:"defaults"][t[1]?t[1]:t[0]]=r}),n},Ga=function(e,t,n){function r(s){var o=k[s];o.doCallback?(i.push(s),s=o.callback.split(",")[1],s!=t&&!f.inArray(s,i)>=0&&r(s)):(o.doCallback=!0,o.callback=e+","+t+","+(n?1:0))}var i=[];f.each(k.borderPanes.split(","),function(e,t){if(k[t].isMoving)return r(t),!1})},Ha=function(e){e=k[e],k.isLayoutBusy=!1,delete e.isMoving;if(e.doCallback&&e.callback){e.doCallback=!1;var t=e.callback.split(","),n=t[2]>0?!0:!1;t[0]=="open"?M(t[1],n):t[0]=="close"&&J(t[1],n),e.doCallback||(e.callback=null)}},t=function(a,b){if(b){var c;try{if(typeof b=="function")c=b;else{if(!I(b))return;if(b.match(/,/)){var d=b.split(",");c=eval(d[0]);if(typeof c=="function"&&d.length>1)return c(d[1])}else c=eval(b)}if(typeof c=="function")return a&&q[a]?c(a,q[a],f.extend({},l[a]),m[a],m.name):c(da,f.extend({},l),m,m.name)}catch(e){}}},Ia=function(e,t){if(!e)return{};e.jquery||(e=f(e));var n={display:e.css("display"),visibility:e.css("visibility")};return t||n.display=="none"?(e.css({display:"block",visibility:"hidden"}),n):{}},Ja=function(e){if(!l.browser.mozilla){var t=q[e];l[e].tagName=="IFRAME"?t.css(k.hidden).css(k.visible):t.find("IFRAME").css(k.hidden).css(k.visible)}},Z=function(e,t){e.jquery||(e=f(e));var n=Ia(e),r=parseInt(f.curCSS(e[0],t,!0),10)||0;return e.css(n),r},ia=function(e,t){e.jquery&&(e=e[0]);var n="border"+t.substr(0,1).toUpperCase()+t.substr(1);return f.curCSS(e,n+"Style",!0)=="none"?0:parseInt(f.curCSS(e,n+"Width",!0),10)||0},K=function(e,t){var n=I(e),r=n?q[e]:f(e);return isNaN(t)&&(t=n?P(e):r.outerWidth()),t<=0?0:l.browser.boxModel?(n=t-ia(r,"Left")-ia(r,"Right")-Z(r,"paddingLeft")-Z(r,"paddingRight"),y(0,n)):t},L=function(e,t){var n=I(e),r=n?q[e]:f(e);return isNaN(t)&&(t=n?P(e):r.outerHeight()),t<=0?0:l.browser.boxModel?(n=t-ia(r,"Top")-ia(r,"Bottom")-Z(r,"paddingTop")-Z(r,"paddingBottom"),y(0,n)):t},ma=function(e){var t=k[e].dir,e={minWidth:1001-K(e,1e3),minHeight:1001-L(e,1e3)};return t=="horz"&&(e.minSize=e.minHeight),t=="vert"&&(e.minSize=e.minWidth),e},Ua=function(e,t,n){var r=e;I(e)?r=q[e]:e.jquery||(r=f(e)),e=L(r,t),r.css({height:e,visibility:"visible"}),e>0&&r.innerWidth()>0?n&&r.data("autoHidden")&&(r.show().data("autoHidden",!1),l.browser.mozilla||r.css(k.hidden).css(k.visible)):n&&!r.data("autoHidden")&&r.hide().data("autoHidden",!0)},U=function(e,t,n){n||(n=k[e].dir),I(t)&&t.match(/%/)&&(t=parseInt(t,10)/100);if(t===0)return 0;if(t>=1)return parseInt(t,10);if(t>0){var e=m,r;return n=="horz"?r=u.innerHeight-(q.north?e.north.spacing_open:0)-(q.south?e.south.spacing_open:0):n=="vert"&&(r=u.innerWidth-(q.west?e.west.spacing_open:0)-(q.east?e.east.spacing_open:0)),Math.floor(r*t)}if(e=="center")return 0;r=q[e];var n=n=="horz"?"height":"width",e=Ia(r),i=r.css(n);return r.css(n,"auto"),t=n=="height"?r.outerHeight():r.outerWidth(),r.css(n,i).css(e),t},P=function(e,t){var n=q[e],r=m[e],i=l[e],s=t?r.spacing_open:0,r=t?r.spacing_closed:0;return!n||i.isHidden?0:i.isClosed||i.isSliding&&t?r:k[e].dir=="horz"?n.outerHeight()+s:n.outerWidth()+s},Q=function(e,t){var n=m[e],r=l[e],i=k[e],s=i.dir;i.side.toLowerCase(),i.sizeType.toLowerCase();var i=t!=void 0?t:r.isSliding,o=n.spacing_open,a=k.altSide[e],f=l[a],c=q[a],h=!c||f.isVisible===!1||f.isSliding?0:s=="horz"?c.outerHeight():c.outerWidth(),a=(!c||f.isHidden?0:m[a][f.isClosed!==!1?"spacing_closed":"spacing_open"])||0,f=s=="horz"?u.innerHeight:u.innerWidth,c=ma("center"),c=s=="horz"?y(m.center.minHeight,c.minHeight):y(m.center.minWidth,c.minWidth),i=f-o-(i?0:U("center",c,s)+h+a),s=r.minSize=y(U(e,n.minSize),ma(e).minSize),o=n.maxSize?U(e,n.maxSize):1e5,i=r.maxSize=Math.min(o,i),r=r.resizerPosition={},o=u.insetTop,h=u.insetLeft,a=u.innerWidth,f=u.innerHeight,n=n.spacing_open;switch(e){case"north":r.min=o+s,r.max=o+i;break;case"west":r.min=h+s,r.max=h+i;break;case"south":r.min=o+f-i-n,r.max=o+f-s-n;break;case"east":r.min=h+a-i-n,r.max=h+a-s-n}},$=function(e){var t={},n=t.css={},r={},i,s,o=e.offset();return t.offsetLeft=o.left,t.offsetTop=o.top,f.each("Left,Right,Top,Bottom".split(","),function(o,u){i=n["border"+u]=ia(e,u),s=n["padding"+u]=Z(e,"padding"+u),r[u]=i+s,t["inset"+u]=s}),t.offsetWidth=e.innerWidth(),t.offsetHeight=e.innerHeight(),t.outerWidth=e.outerWidth(),t.outerHeight=e.outerHeight(),t.innerWidth=t.outerWidth-r.Left-r.Right,t.innerHeight=t.outerHeight-r.Top-r.Bottom,n.width=e.width(),n.height=e.height(),t},na=function(e,t){var n={},r=e[0].style,i=t.split(","),s="Top,Bottom,Left,Right".split(","),o="Color,Style,Width".split(","),u,a,f,l,c,h;for(l=0;l<i.length;l++)if(u=i[l],u.match(/(border|padding|margin)$/))for(c=0;c<4;c++)if(a=s[c],u=="border")for(h=0;h<3;h++)f=o[h],n[u+a+f]=r[u+a+f];else n[u+a]=r[u+a];else n[u]=r[u];return n},sa=function(e,t){var n=f(e),r=n.data("layoutRole"),i=n.data("layoutEdge"),s=m[i][r+"Class"],i="-"+i,o=n.hasClass(s+"-closed")?"-closed":"-open",u=o=="-closed"?"-open":"-closed",o=s+"-hover "+(s+i+"-hover ")+(s+o+"-hover ")+(s+i+o+"-hover ");return t&&(o+=s+u+"-hover "+(s+i+u+"-hover ")),r=="resizer"&&n.hasClass(s+"-sliding")&&(o+=s+"-sliding-hover "+(s+i+"-sliding-hover ")),f.trim(o)},ta=function(e,t){var n=f(t||this);e&&n.data("layoutRole")=="toggler"&&e.stopPropagation(),n.addClass(sa(n))},R=function(e,t){var n=f(t||this);n.removeClass(sa(n,!0))},Ka=function(e){f("body").disableSelection(),ta(e,this)},ua=function(e,t){var n=t||this,r=f(n).data("layoutEdge"),i=r+"ResizerLeave";E.clear(r+"_openSlider"),E.clear(i),t?l[r].isResizing||f("body").enableSelection():(R(e,this),E.set(i,function(){ua(e,n)},200))},Va=function(){var e=Number(m.resizeWithWindowDelay)||100;e>0&&(E.clear("winResize"),E.set("winResize",function(){E.clear("winResize"),E.clear("winResizeRepeater"),ea()},e),E.data.winResizeRepeater||La())},La=function(){var e=Number(m.resizeWithWindowMaxDelay);e>0&&E.set("winResizeRepeater",function(){La(),ea()},e)},Ma=function(){var e=m;l.cookie=qa(),t(null,e.onunload_start),e.useStateCookie&&e.cookie.autoSave&&pa(),t(null,e.onunload_end||e.onunload)},Na=function(e){if(!e||e=="all")e=k.borderPanes;f.each(e.split(","),function(e,t){var n=m[t];if(n.enableCursorHotkey||n.customHotkey)return f(document).bind("keydown."+v,o),!1})},Wa=function(){function e(e){for(var n in t)e[n]!=void 0&&(e[t[n]]=e[n],delete e[n])}j=Ta(j);var t={applyDefaultStyles:"applyDemoStyles"};e(j.defaults),f.each(k.allPanes.split(","),function(t,n){e(j[n])}),j.effects&&(f.extend(ra,j.effects),delete j.effects),f.extend(m.cookie,j.cookie),f.each("name,containerClass,zIndex,scrollToBookmarkOnLoad,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,onresizeall,onresizeall_start,onresizeall_end,onload,onload_start,onload_end,onunload,onunload_start,onunload_end,autoBindCustomButtons,useStateCookie".split(","),function(e,t){j[t]!==void 0?m[t]=j[t]:j.defaults[t]!==void 0&&(m[t]=j.defaults[t],delete j.defaults[t])}),f.each("paneSelector,resizerCursor,customHotkey".split(","),function(e,t){delete j.defaults[t]}),f.extend(!0,m.defaults,j.defaults),k.center=f.extend(!0,{},k.panes,k.center);var n=m.zIndex;if(n===0||n>0)k.zIndex.pane_normal=n,k.zIndex.resizer_normal=n+1,k.zIndex.iframe_mask=n+1;f.extend(m.center,j.center);var r=f.extend(!0,{},m.defaults,j.defaults,m.center),n="paneClass,contentSelector,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,onresize,onresize_start,onresize_end,resizeNestedLayout,resizeContentWhileDragging,onsizecontent,onsizecontent_start,onsizecontent_end".split(",");f.each(n,function(e,t){m.center[t]=r[t]});var i,s=m.defaults;f.each(k.borderPanes.split(","),function(e,t){k[t]=f.extend(!0,{},k.panes,k[t]),i=m[t]=f.extend(!0,{},m.defaults,m[t],j.defaults,j[t]),i.paneClass||(i.paneClass="ui-layout-pane"),i.resizerClass||(i.resizerClass="ui-layout-resizer"),i.togglerClass||(i.togglerClass="ui-layout-toggler"),f.each(["_open","_close",""],function(e,n){var r="fxName"+n,o="fxSpeed"+n,u="fxSettings"+n;i[r]=j[t][r]||j[t].fxName||j.defaults[r]||j.defaults.fxName||i[r]||i.fxName||s[r]||s.fxName||"none";var a=i[r];if(a=="none"||!f.effects||!f.effects[a]||!ra[a]&&!i[u]&&!i.fxSettings)a=i[r]="none";a=ra[a]||{},r=a.all||{},a=a[t]||{},i[u]=f.extend({},r,a,s.fxSettings||{},s[u]||{},i.fxSettings,i[u],j.defaults.fxSettings,j.defaults[u]||{},j[t].fxSettings,j[t][u]||{}),i[o]=j[t][o]||j[t].fxSpeed||j.defaults[o]||j.defaults.fxSpeed||i[o]||i[u].duration||i.fxSpeed||i.fxSettings.duration||s.fxSpeed||s.fxSettings.duration||a.duration||r.duration||"normal"})})},Oa=function(e){e=m[e].paneSelector;if(e.substr(0,1)==="#")return G.find(e).eq(0);var t=G.children(e).eq(0);return t.length?t:G.children("form:first").children(e).eq(0)},Xa=function(){f.each(k.allPanes.split(","),function(e,t){Pa(t)}),va(),f.each(k.borderPanes.split(","),function(e,t){q[t]&&l[t].isVisible&&(Q(t),V(t))}),W("center"),f.each(k.allPanes.split(","),function(e,n){var r=m[n];q[n]&&l[n].isVisible&&(r.triggerEventsOnLoad&&t(n,r.onresize_end||r.onresize),aa(n))}),G.innerHeight()<2&&alert(D.errContainerHeight.replace(/CONTAINER/,u.ref))},Pa=function(e){var n=m[e],i=l[e],s=k[e],o=s.dir,a=e=="center",f={},c=q[e],h;c?wa(e):N[e]=!1,c=q[e]=Oa(e);if(c.length){c.data("layoutCSS")||c.data("layoutCSS",na(c,"position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border")),c.data("parentLayout",da).data("layoutRole","pane").data("layoutEdge",e).css(s.cssReq).css("zIndex",k.zIndex.pane_normal).css(n.applyDemoStyles?s.cssDemo:{}).addClass(n.paneClass+" "+n.paneClass+"-"+e).bind("mouseenter."+v,ta).bind("mouseleave."+v,R),Qa(e,!1),a||(h=i.size=U(e,n.size),s=U(e,n.minSize)||1,a=U(e,n.maxSize)||1e5,h>0&&(h=y(Math.min(h,a),s)),i.isClosed=!1,i.isSliding=!1,i.isResizing=!1,i.isHidden=!1),i.tagName=c.attr("tagName"),i.edge=e,i.noRoom=!1,i.isVisible=!0;switch(e){case"north":f.top=u.insetTop,f.left=u.insetLeft,f.right=u.insetRight;break;case"south":f.bottom=u.insetBottom,f.left=u.insetLeft,f.right=u.insetRight;break;case"west":f.left=u.insetLeft;break;case"east":f.right=u.insetRight}o=="horz"?f.height=y(1,L(e,h)):o=="vert"&&(f.width=y(1,K(e,h))),c.css(f),o!="horz"&&W(e,!0),i.noRoom||c.css({visibility:"visible",display:"block"}),n.initClosed&&n.closable?J(e,!0,!0):(n.initHidden||n.initClosed)&&la(e),n.showOverflowOnHover&&c.hover(p,r),l.initialized&&(va(e),Na(e),ea(),i.isVisible&&(n.triggerEventsOnLoad&&t(e,n.onresize_end||n.onresize),aa(e)))}else q[e]=!1},va=function(e){if(!e||e=="all")e=k.borderPanes;f.each(e.split(","),function(e,t){var n=q[t];w[t]=!1,B[t]=!1;if(n){var n=m[t],r=l[t],i=n.resizerClass,s=n.togglerClass;k[t].side.toLowerCase();var o="-"+t,u=w[t]=f("<div></div>"),a=n.closable?B[t]=f("<div></div>"):!1;!r.isVisible&&n.slidable&&u.attr("title",n.sliderTip).css("cursor",n.sliderCursor),u.attr("id",n.paneSelector.substr(0,1)=="#"?n.paneSelector.substr(1)+"-resizer":"").data("parentLayout",da).data("layoutRole","resizer").data("layoutEdge",t).css(k.resizers.cssReq).css("zIndex",k.zIndex.resizer_normal).css(n.applyDemoStyles?k.resizers.cssDemo:{}).addClass(i+" "+i+o).appendTo(G),a&&(a.attr("id",n.paneSelector.substr(0,1)=="#"?n.paneSelector.substr(1)+"-toggler":"").data("parentLayout",da).data("layoutRole","toggler").data("layoutEdge",t).css(k.togglers.cssReq).css(n.applyDemoStyles?k.togglers.cssDemo:{}).addClass(s+" "+s+o).appendTo(u),n.togglerContent_open&&f("<span>"+n.togglerContent_open+"</span>").data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-open").css("display","none").appendTo(a),n.togglerContent_closed&&f("<span>"+n.togglerContent_closed+"</span>").data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-closed").css("display","none").appendTo(a),Ra(t)),Ya(t),r.isVisible?xa(t):(ya(t),ba(t,!0))}}),ja("all")},Qa=function(e,t){var n=m[e],r=n.contentSelector,i=q[e],s;r&&(s=N[e]=n.findNestedContent?i.find(r).eq(0):i.children(r).eq(0)),s&&s.length?(s.data("layoutCSS")||s.data("layoutCSS",na(s,"height")),s.css(k.content.cssReq),n.applyDemoStyles&&(s.css(k.content.cssDemo),i.css(k.content.cssDemoPane)),l[e].content={},t!==!1&&fa(e)):N[e]=!1},Za=function(){var e;f.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(t,n){f.each(k.borderPanes.split(","),function(t,r){f(".ui-layout-button-"+n+"-"+r).each(function(){e=f(this).data("layoutName")||f(this).attr("layoutName"),(e==void 0||e==m.name)&&C(this,n,r)})})})},Ya=function(e){var n=typeof f.fn.draggable=="function",r;if(!e||e=="all")e=k.borderPanes;f.each(e.split(","),function(e,i){var s=m[i],o=l[i],a=k[i],h=a.dir=="horz"?"top":"left",p,d;if(!n||!q[i]||!s.resizable)return s.resizable=!1,!0;var g=w[i],y=s.resizerClass,S=y+"-drag",x=y+"-"+i+"-drag",T=y+"-dragging",N=y+"-"+i+"-dragging",C=y+"-dragging-limit",L=y+"-"+i+"-dragging-limit",A=!1;o.isClosed||g.attr("title",s.resizerTip).css("cursor",s.resizerCursor),g.bind("mouseenter."+v,Ka).bind("mouseleave."+v,ua),g.draggable({containment:G[0],axis:a.dir=="horz"?"y":"x",delay:0,distance:1,helper:"clone",opacity:s.resizerDragOpacity,addClasses:!1,zIndex:k.zIndex.resizer_drag,start:function(){s=m[i],o=l[i],d=s.resizeWhileDragging;if(!1===t(i,s.ondrag_start))return!1;k.isLayoutBusy=!0,o.isResizing=!0,E.clear(i+"_closeSlider"),Q(i),p=o.resizerPosition,g.addClass(S+" "+x),A=!1,r=f(s.maskIframesOnResize===!0?"iframe":s.maskIframesOnResize).filter(":visible");var e,n=0;r.each(function(){e="ui-layout-mask-"+ ++n,f(this).data("layoutMaskID",e),f('<div id="'+e+'" class="ui-layout-mask ui-layout-mask-'+i+'"/>').css({background:"#fff",opacity:"0.001",zIndex:k.zIndex.iframe_mask,position:"absolute",width:this.offsetWidth+"px",height:this.offsetHeight+"px"}).css(f(this).position()).appendTo(this.parentNode)}),f("body").disableSelection()},drag:function(e,t){A||(t.helper.addClass(T+" "+N).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),A=!0,o.isSliding&&q[i].css("zIndex",k.zIndex.pane_sliding));var n=0;t.position[h]<p.min?(t.position[h]=p.min,n=-1):t.position[h]>p.max&&(t.position[h]=p.max,n=1),n?(t.helper.addClass(C+" "+L),window.defaultStatus="Panel has reached its "+(n>0&&i.match(/north|west/)||n<0&&i.match(/south|east/)?"maximum":"minimum")+" size"):(t.helper.removeClass(C+" "+L),window.defaultStatus=""),d&&O(e,t,i)},stop:function(e,t){f("body").enableSelection(),window.defaultStatus="",g.removeClass(S+" "+x),o.isResizing=!1,k.isLayoutBusy=!1,O(e,t,i,!0)}});var O=function(e,n,i,o){var e=n.position,n=k[i],a;switch(i){case"north":a=e.top;break;case"west":a=e.left;break;case"south":a=u.offsetHeight-e.top-s.spacing_open;break;case"east":a=u.offsetWidth-e.left-s.spacing_open}if(o){if(f("div.ui-layout-mask").each(function(){this.parentNode.removeChild(this)}),!1===t(i,s.ondrag_end||s.ondrag))return!1}else r.each(function(){f("#"+f(this).data("layoutMaskID")).css(f(this).position()).css({width:this.offsetWidth+"px",height:this.offsetHeight+"px"})});za(i,a-u["inset"+n.side])}})},wa=function(e,t,n){if(q[e]){var r=q[e],i=N[e],s=w[e],o=B[e],u=m[e].paneClass,a=u+"-"+e,u=[u,u+"-open",u+"-closed",u+"-sliding",a,a+"-open",a+"-closed",a+"-sliding"];f.merge(u,sa(r,!0)),r&&r.length&&(t&&!r.data("layoutContainer")&&(!i||!i.length||!i.data("layoutContainer"))?r.remove():(r.removeClass(u.join(" ")).removeData("layoutParent").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+v),r.data("layoutContainer")||r.css(r.data("layoutCSS")).removeData("layoutCSS"),i&&i.length&&!i.data("layoutContainer")&&i.css(i.data("layoutCSS")).removeData("layoutCSS"))),o&&o.length&&o.remove(),s&&s.length&&s.remove(),q[e]=N[e]=w[e]=B[e]=!1,n||(ea(),l[e]={})}},la=function(e,n){var r=m[e],i=l[e],s=q[e],o=w[e];s&&!i.isHidden&&(!l.initialized||!1!==t(e,r.onhide_start))&&((i.isSliding=!1,o&&o.hide(),!l.initialized||i.isClosed)?(i.isClosed=!0,i.isHidden=!0,i.isVisible=!1,s.hide(),W(k[e].dir=="horz"?"all":"center"),l.initialized||r.triggerEventsOnLoad)&&t(e,r.onhide_end||r.onhide):(i.isHiding=!0,J(e,!1,n)))},ha=function(e,n,r,i){var s=l[e];q[e]&&s.isHidden&&!1!==t(e,m[e].onshow_start)&&(s.isSliding=!1,s.isShowing=!0,n===!1?J(e,!0):M(e,!1,r,i))},ca=function(e,t){I(e)||(e.stopImmediatePropagation(),e=f(this).data("layoutEdge"));var n=l[I(e)?f.trim(e):e==void 0||e==null?"":e];n.isHidden?ha(e):n.isClosed?M(e,!!t):J(e)},$a=function(e){var t=l[e];q[e].hide(),t.isClosed=!0,t.isVisible=!1},J=function(e,n,r,i){function s(){if(a.isClosed){ba(e,!0);var n=k.altSide[e];l[n].noRoom&&(Q(n),V(n)),!i&&(l.initialized||u.triggerEventsOnLoad)&&(f||t(e,u.onclose_end||u.onclose),f&&t(e,u.onshow_end||u.onshow),c&&t(e,u.onhide_end||u.onhide))}Ha(e)}if(l.initialized){var o=q[e],u=m[e],a=l[e],r=!r&&!a.isClosed&&u.fxName_close!="none",f=a.isShowing,c=a.isHiding;delete a.isShowing,delete a.isHiding;if(o&&(u.closable||f||c)&&(n||!a.isClosed||f))if(k.isLayoutBusy)Ga("close",e,n);else if(f||!1!==t(e,u.onclose_start))k[e].isMoving=!0,k.isLayoutBusy=!0,a.isClosed=!0,a.isVisible=!1,c?a.isHidden=!0:f&&(a.isHidden=!1),a.isSliding?ka(e,!1):W(k[e].dir=="horz"?"all":"center",!1),ya(e),r?(oa(e,!0),o.hide(u.fxName_close,u.fxSettings_close,u.fxSpeed_close,function(){oa(e,!1),s()})):(o.hide(),s())}else $a(e)},ya=function(e){var t=w[e],n=B[e],r=m[e],i=k[e].side.toLowerCase(),s=r.resizerClass,o=r.togglerClass,a="-"+e;t.css(i,u["inset"+k[e].side]).removeClass(s+"-open "+s+a+"-open").removeClass(s+"-sliding "+s+a+"-sliding").addClass(s+"-closed "+s+a+"-closed").unbind("dblclick."+v),r.resizable&&typeof f.fn.draggable=="function"&&t.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title",""),n&&(n.removeClass(o+"-open "+o+a+"-open").addClass(o+"-closed "+o+a+"-closed").attr("title",r.togglerTip_closed),n.children(".content-open").hide(),n.children(".content-closed").css("display","block")),S(e,!1),l.initialized&&ja("all")},M=function(e,n,r,i){function s(){a.isVisible&&(Ja(e),a.isSliding||W(k[e].dir=="vert"?"center":"all",!1),xa(e)),Ha(e)}var o=q[e],u=m[e],a=l[e],r=!r&&a.isClosed&&u.fxName_open!="none",f=a.isShowing;delete a.isShowing;if(o&&(u.resizable||u.closable||f)&&(!a.isVisible||a.isSliding))if(a.isHidden&&!f)ha(e,!0);else if(k.isLayoutBusy)Ga("open",e,n);else if(Q(e,n),!1!==t(e,u.onopen_start))a.minSize>a.maxSize?(S(e,!1),!i&&u.noRoomToOpenTip&&alert(u.noRoomToOpenTip)):(k[e].isMoving=!0,k.isLayoutBusy=!0,n?ka(e,!0):a.isSliding?ka(e,!1):u.slidable&&ba(e,!1),a.noRoom=!1,V(e),a.isVisible=!0,a.isClosed=!1,f&&(a.isHidden=!1),r?(oa(e,!0),o.show(u.fxName_open,u.fxSettings_open,u.fxSpeed_open,function(){oa(e,!1),s()})):(o.show(),s()))},xa=function(e,n){var r=q[e],i=w[e],s=B[e],o=m[e],a=l[e],c=k[e].side.toLowerCase(),h=o.resizerClass,p=o.togglerClass,d="-"+e;i.css(c,u["inset"+k[e].side]+P(e)).removeClass(h+"-closed "+h+d+"-closed").addClass(h+"-open "+h+d+"-open"),a.isSliding?i.addClass(h+"-sliding "+h+d+"-sliding"):i.removeClass(h+"-sliding "+h+d+"-sliding"),o.resizerDblClickToggle&&i.bind("dblclick",ca),R(0,i),o.resizable&&typeof f.fn.draggable=="function"?i.draggable("enable").css("cursor",o.resizerCursor).attr("title",o.resizerTip):a.isSliding||i.css("cursor","default"),s&&(s.removeClass(p+"-closed "+p+d+"-closed").addClass(p+"-open "+p+d+"-open").attr("title",o.togglerTip_open),R(0,s),s.children(".content-closed").hide(),s.children(".content-open").css("display","block")),S(e,!a.isSliding),f.extend(a,$(r)),l.initialized&&(ja("all"),fa(e,!0)),!n&&(l.initialized||o.triggerEventsOnLoad)&&r.is(":visible")&&(t(e,o.onopen_end||o.onopen),a.isShowing&&t(e,o.onshow_end||o.onshow),l.initialized&&(t(e,o.onresize_end||o.onresize),aa(e)))},Sa=function(e){function t(){i.isClosed?k[r].isMoving||M(r,!0):ka(r,!0)}var n=I(e)?null:e,r=n?f(this).data("layoutEdge"):e,i=l[r],e=m[r].slideDelay_open;n&&n.stopImmediatePropagation(),i.isClosed&&n&&n.type=="mouseenter"&&e>0?E.set(r+"_openSlider",t,e):t()},Aa=function(e){function t(){i.isClosed?ka(r,!1):k[r].isMoving||J(r)}var n=I(e)?null:e,r=n?f(this).data("layoutEdge"):e,e=m[r],i=l[r],s=k[r].isMoving?1e3:300;if(!i.isClosed&&!
i.isResizing)if(e.slideTrigger_close=="click")t();else if(!e.preventQuickSlideClose||!k.isLayoutBusy)if(!e.preventPrematureSlideClose||!n||!f.layout.isMouseOverElem(n,q[r]))n?E.set(r+"_closeSlider",t,y(e.slideDelay_close,s)):t()},oa=function(e,t){var n=q[e];if(t)n.css({zIndex:k.zIndex.pane_animate}),e=="south"?n.css({top:u.insetTop+u.innerHeight-n.outerHeight()}):e=="east"&&n.css({left:u.insetLeft+u.innerWidth-n.outerWidth()});else{n.css({zIndex:l[e].isSliding?k.zIndex.pane_sliding:k.zIndex.pane_normal}),e=="south"?n.css({top:"auto"}):e=="east"&&n.css({left:"auto"});var r=m[e];l.browser.msie&&r.fxOpacityFix&&r.fxName_open!="slide"&&n.css("filter")&&n.css("opacity")==1&&n[0].style.removeAttribute("filter")}},ba=function(e,t){var n=m[e],r=w[e],i=n.slideTrigger_open.toLowerCase();r&&(!t||n.slidable)&&(i.match(/mouseover/)?i=n.slideTrigger_open="mouseenter":i.match(/click|dblclick|mouseenter/)||(i=n.slideTrigger_open="click"),r[t?"bind":"unbind"](i+"."+v,Sa).css("cursor",t?n.sliderCursor:"default").attr("title",t?n.sliderTip:""))},ka=function(e,t){function n(t){E.clear(e+"_closeSlider"),t.stopPropagation()}var r=m[e],i=l[e],s=k.zIndex,o=r.slideTrigger_close.toLowerCase(),u=t?"bind":"unbind",a=q[e],f=w[e];i.isSliding=t,E.clear(e+"_closeSlider"),t&&ba(e,!1),a.css("zIndex",t?s.pane_sliding:s.pane_normal),f.css("zIndex",t?s.pane_sliding:s.resizer_normal),o.match(/click|mouseleave/)||(o=r.slideTrigger_close="mouseleave"),f[u](o,Aa),o=="mouseleave"&&(a[u]("mouseleave."+v,Aa),f[u]("mouseenter."+v,n),a[u]("mouseenter."+v,n)),t?o=="click"&&!r.resizable&&(f.css("cursor",t?r.sliderCursor:"default"),f.attr("title",t?r.togglerTip_open:"")):E.clear(e+"_closeSlider")},V=function(e,t,n,r){var t=m[e],i=l[e],s=k[e],o=q[e],a=w[e],f=s.dir=="vert",c=!1;if(e=="center"||f&&i.noVerticalRoom)(c=i.maxHeight>0)&&i.noRoom?(o.show(),a&&a.show(),i.isVisible=!0,i.noRoom=!1,f&&(i.noVerticalRoom=!1),Ja(e)):!c&&!i.noRoom&&(o.hide(),a&&a.hide(),i.isVisible=!1,i.noRoom=!0);if(e!="center")if(i.minSize<=i.maxSize){if(i.size>i.maxSize?Y(e,i.maxSize,n,r):i.size<i.minSize?Y(e,i.minSize,n,r):a&&o.is(":visible")&&(n=s.side.toLowerCase(),r=i.size+u["inset"+s.side],Z(a,n)!=r&&a.css(n,r)),i.noRoom)i.wasOpen&&t.closable?t.autoReopen?M(e,!1,!0,!0):i.noRoom=!1:ha(e,i.wasOpen,!0,!0)}else i.noRoom||(i.noRoom=!0,i.wasOpen=!i.isClosed&&!i.isSliding,i.isClosed||(t.closable?J(e,!0,!0):la(e,!0)))},za=function(e,t,n){var r=m[e],i=r.resizeWhileDragging&&!k.isLayoutBusy;r.autoResize=!1,Y(e,t,n,i)},Y=function(e,n,r,i){var s=m[e],o=l[e],a=q[e],c=w[e],h=k[e].side.toLowerCase(),p="inset"+k[e].side,d=k.isLayoutBusy&&!s.triggerEventsWhileDragging,v;Q(e),v=o.size,n=U(e,n),n=y(n,U(e,s.minSize)),n=Math.min(n,o.maxSize);if(n<o.minSize)V(e,!1,r);else if(i||n!=v)!r&&l.initialized&&o.isVisible&&t(e,s.onresize_start),a.css(k[e].sizeType.toLowerCase(),y(1,k[e].dir=="horz"?L(e,n):K(e,n))),o.size=n,f.extend(o,$(a)),c&&a.is(":visible")&&c.css(h,n+u[p]),fa(e),!r&&!d&&l.initialized&&o.isVisible&&(t(e,s.onresize_end||s.onresize),aa(e)),r||(o.isSliding||W(k[e].dir=="horz"?"all":"center",d,i),ja("all")),e=k.altSide[e],n<v&&l[e].noRoom&&(Q(e),V(e,!1,r))},W=function(e,n,r){if(!e||e=="all")e="east,west,center";f.each(e.split(","),function(e,i){if(q[i]){var s=m[i],o=l[i],a=q[i],h=!0,p={},h={top:P("north",!0),bottom:P("south",!0),left:P("west",!0),right:P("east",!0),width:0,height:0};h.width=u.innerWidth-h.left-h.right,h.height=u.innerHeight-h.bottom-h.top,h.top+=u.insetTop,h.bottom+=u.insetBottom,h.left+=u.insetLeft,h.right+=u.insetRight,f.extend(o,$(a));if(i=="center"){if(!r&&o.isVisible&&h.width==o.outerWidth&&h.height==o.outerHeight)return!0;f.extend(o,ma(i),{maxWidth:h.width,maxHeight:h.height}),p=h,p.width=K(i,h.width),p.height=L(i,h.height),h=p.width>0&&p.height>0;if(!h&&!l.initialized&&s.minWidth>0){var d=s.minWidth-o.outerWidth,v=m.east.minSize||0,g=m.west.minSize||0,w=l.east.size,E=l.west.size,S=w,x=E;d>0&&l.east.isVisible&&w>v&&(S=y(w-v,w-d),d-=w-S),d>0&&l.west.isVisible&&E>g&&(x=y(E-g,E-d),d-=E-x);if(d==0){w!=v&&Y("east",S,!0),E!=g&&Y("west",x,!0),W("center",n,r);return}}}else{o.isVisible&&!o.noVerticalRoom&&f.extend(o,$(a),ma(i));if(!r&&!o.noVerticalRoom&&h.height==o.outerHeight)return!0;p.top=h.top,p.bottom=h.bottom,p.height=L(i,h.height),o.maxHeight=y(0,p.height),h=o.maxHeight>0,h||(o.noVerticalRoom=!0)}h?(!n&&l.initialized&&t(i,s.onresize_start),a.css(p),o.noRoom&&!o.isClosed&&!o.isHidden&&V(i),o.isVisible&&(f.extend(o,$(a)),l.initialized&&fa(i))):!o.noRoom&&o.isVisible&&V(i);if(!o.isVisible)return!0;i=="center"&&(o=l.browser,o=o.isIE6||o.msie&&!o.boxModel,q.north&&(o||l.north.tagName=="IFRAME")&&q.north.css("width",K(q.north,u.innerWidth)),q.south&&(o||l.south.tagName=="IFRAME")&&q.south.css("width",K(q.south,u.innerWidth))),!n&&l.initialized&&(t(i,s.onresize_end||s.onresize),aa(i))}})},ea=function(){f.extend(l.container,$(G));if(u.outerHeight){if(!1===t(null,m.onresizeall_start))return!1;var e,n,r;f.each(["south","north","east","west"],function(e,t){q[t]&&(r=l[t],n=m[t],n.autoResize&&r.size!=n.size?Y(t,n.size,!0,!0):(Q(t),V(t,!1,!0,!0)))}),W("all",!0,!0),ja("all"),n=m,f.each(k.allPanes.split(","),function(r,i){(e=q[i])&&l[i].isVisible&&(t(i,n[i].onresize_end||n[i].onresize),aa(i))}),t(null,n.onresizeall_end||n.onresizeall)}},aa=function(e){var t=q[e],n=N[e];m[e].resizeNestedLayout&&(t.data("layoutContainer")?t.layout().resizeAll():n&&n.data("layoutContainer")&&n.layout().resizeAll())},fa=function(e,n){if(!e||e=="all")e=k.allPanes;f.each(e.split(","),function(e,r){function i(e){return y(f.css.paddingBottom,parseInt(e.css("marginBottom"),10)||0)}function s(){var e=m[r].contentIgnoreSelector,e=u.nextAll().not(e||":lt(0)"),t=e.filter(":visible"),n=t.filter(":last");c={top:u[0].offsetTop,height:u.outerHeight(),numFooters:e.length,hiddenFooters:e.length-t.length,spaceBelow:0},c.spaceAbove=c.top,c.bottom=c.top+c.height,c.spaceBelow=n.length?n[0].offsetTop+n.outerHeight()-c.bottom+i(n):i(u)}var o=q[r],u=N[r],a=m[r],f=l[r],c=f.content;if(!o||!u||!o.is(":visible"))return!0;if(!1!==t(null,a.onsizecontent_start)){if(!k.isLayoutBusy||c.top==void 0||n||a.resizeContentWhileDragging)s(),c.hiddenFooters>0&&o.css("overflow")=="hidden"&&(o.css("overflow","visible"),s(),o.css("overflow","hidden"));o=f.innerHeight-(c.spaceAbove-f.css.paddingTop)-(c.spaceBelow-f.css.paddingBottom);if(!u.is(":visible")||c.height!=o)Ua(u,o,!0),c.height=o;l.initialized&&(t(r,a.onsizecontent_end||a.onsizecontent),aa(r))}})},ja=function(e){if(!e||e=="all")e=k.borderPanes;f.each(e.split(","),function(e,t){var n=m[t],r=l[t],i=q[t],s=w[t],o=B[t],a;if(i&&s){var c=k[t].dir,h=r.isClosed?"_closed":"_open",p=n["spacing"+h],d=n["togglerAlign"+h],h=n["togglerLength"+h],v;if(p==0)s.hide();else{!r.noRoom&&!r.isHidden&&s.show(),c=="horz"?(v=i.outerWidth(),r.resizerLength=v,s.css({width:y(1,K(s,v)),height:y(0,L(s,p)),left:Z(i,"left")})):(v=i.outerHeight(),r.resizerLength=v,s.css({height:y(1,L(s,v)),width:y(0,K(s,p)),top:u.insetTop+P("north",!0)})),R(n,s);if(o){if(h==0||r.isSliding&&n.hideTogglerOnSlide){o.hide();return}o.show();if(!(h>0)||h=="100%"||h>v)h=v,d=0;else if(I(d))switch(d){case"top":case"left":d=0;break;case"bottom":case"right":d=v-h;break;default:d=Math.floor((v-h)/2)}else i=parseInt(d,10),d=d>=0?i:v-h+i;if(c=="horz"){var g=K(o,h);o.css({width:y(0,g),height:y(1,L(o,p)),left:d,top:0}),o.children(".content").each(function(){a=f(this),a.css("marginLeft",Math.floor((g-a.outerWidth())/2))})}else{var b=L(o,h);o.css({height:y(0,b),width:y(1,K(o,p)),top:d,left:0}),o.children(".content").each(function(){a=f(this),a.css("marginTop",Math.floor((b-a.outerHeight())/2))})}R(0,o)}!l.initialized&&(n.initHidden||r.noRoom)&&(s.hide(),o&&o.hide())}}})},Ra=function(e){var t=B[e],n=m[e];t&&(n.closable=!0,t.bind("click."+v,function(t){t.stopPropagation(),ca(e)}).bind("mouseenter."+v,ta).bind("mouseleave."+v,R).css("visibility","visible").css("cursor","pointer").attr("title",l[e].isClosed?n.togglerTip_closed:n.togglerTip_open).show())},G=f(this).eq(0);if(!G.length)return null;if(G.data("layoutContainer")&&G.data("layout"))return G.data("layout");var q={},N={},w={},B={},u=l.container,v=l.id,da={options:m,state:l,container:G,panes:q,contents:N,resizers:w,togglers:B,toggle:ca,hide:la,show:ha,open:M,close:J,slideOpen:Sa,slideClose:Aa,slideToggle:function(e){ca(e,!0)},initContent:Qa,sizeContent:fa,sizePane:za,swapPanes:function(e,n){function r(e){var t=q[e],n=N[e];return t?{pane:e,P:t?t[0]:!1,C:n?n[0]:!1,state:f.extend({},l[e]),options:f.extend({},m[e])}:!1}function i(e,t){if(e){var n=e.P,r=e.C,i=e.pane,s=k[t],o=s.side.toLowerCase(),c="inset"+s.side,h=f.extend({},l[t]),p=m[t],d={resizerCursor:p.resizerCursor};f.each("fxName,fxSpeed,fxSettings".split(","),function(e,t){d[t]=p[t],d[t+"_open"]=p[t+"_open"],d[t+"_close"]=p[t+"_close"]}),q[t]=f(n).data("layoutEdge",t).css(k.hidden).css(s.cssReq),N[t]=r?f(r):!1,m[t]=f.extend({},e.options,d),l[t]=f.extend({},e.state),n.className=n.className.replace(RegExp(p.paneClass+"-"+i,"g"),p.paneClass+"-"+t),va(t),s.dir!=k[i].dir?(n=a[t]||0,Q(t),n=y(n,l[t].minSize),za(t,n,!0)):w[t].css(o,u[c]+(l[t].isVisible?P(t):0)),e.state.isVisible&&!h.isVisible?xa(t,!0):(ya(t),ba(t,!0)),e=null}}l[e].edge=n,l[n].edge=e;var s=!1;!1===t(e,m[e].onswap_start)&&(s=!0),!s&&!1===t(n,m[n].onswap_start)&&(s=!0);if(s)l[e].edge=e,l[n].edge=n;else{var s=r(e),o=r(n),a={};a[e]=s?s.state.size:0,a[n]=o?o.state.size:0,q[e]=!1,q[n]=!1,l[e]={},l[n]={},B[e]&&B[e].remove(),B[n]&&B[n].remove(),w[e]&&w[e].remove(),w[n]&&w[n].remove(),w[e]=w[n]=B[e]=B[n]=!1,i(s,n),i(o,e),s=o=a=null,q[e]&&q[e].css(k.visible),q[n]&&q[n].css(k.visible),ea(),t(e,m[e].onswap_end||m[e].onswap),t(n,m[n].onswap_end||m[n].onswap)}},resizeAll:ea,destroy:function(){f(window).unbind("."+v),f(document).unbind("."+v),f.each(k.allPanes.split(","),function(e,t){wa(t,!1,!0)});var e=G.removeData("layout").removeData("layoutContainer").removeClass(m.containerClass);!e.data("layoutEdge")&&e.data("layoutCSS")&&e.css(e.data("layoutCSS")).removeData("layoutCSS"),u.tagName=="BODY"&&(e=f("html")).data("layoutCSS")&&e.css(e.data("layoutCSS")).removeData("layoutCSS"),Ma()},addPane:Pa,removePane:wa,setSizeLimits:Q,bindButton:C,addToggleBtn:H,addOpenBtn:x,addCloseBtn:z,addPinBtn:Ba,allowOverflow:p,resetOverflow:r,encodeJSON:Da,decodeJSON:Ca,getState:qa,getCookie:X,saveCookie:pa,deleteCookie:function(){pa("",{expires:-1})},loadCookie:Ea,loadState:Fa,cssWidth:K,cssHeight:L,enableClosable:Ra,disableClosable:function(e,t){var n=B[e];n&&(m[e].closable=!1,l[e].isClosed&&M(e,!1,!0),n.unbind("."+v).css("visibility",t?"hidden":"visible").css("cursor","default").attr("title",""))},enableSlidable:function(e){var t=w[e];t&&t.data("draggable")&&(m[e].slidable=!0,s.isClosed&&ba(e,!0))},disableSlidable:function(e){var t=w[e];t&&(m[e].slidable=!1,l[e].isSliding?J(e,!1,!0):(ba(e,!1),t.css("cursor","default").attr("title",""),R(null,t[0])))},enableResizable:function(e){var t=w[e],n=m[e];t&&t.data("draggable")&&(n.resizable=!0,t.draggable("enable").bind("mouseenter."+v,Ka).bind("mouseleave."+v,ua),l[e].isClosed||t.css("cursor",n.resizerCursor).attr("title",n.resizerTip))},disableResizable:function(e){var t=w[e];t&&t.data("draggable")&&(m[e].resizable=!1,t.draggable("disable").unbind("."+v).css("cursor","default").attr("title",""),R(null,t[0]))}};return function(){Wa();var e=m;if(!1===t(null,e.onload_start))return!1;if(!Oa("center").length)return alert(D.errCenterPaneMissing),null;e.useStateCookie&&e.cookie.autoLoad&&Ea(),l.browser={mozilla:f.browser.mozilla,webkit:f.browser.webkit||f.browser.safari,msie:f.browser.msie,isIE6:f.browser.msie&&f.browser.version==6,boxModel:f.support.boxModel};var n=G,r=u.tagName=n.attr("tagName"),i=r=="BODY",s={};u.selector=n.selector.split(".slice")[0],u.ref=r+"/"+u.selector,n.data("layout",da).data("layoutContainer",v).addClass(m.containerClass),n.data("layoutCSS")||(i?(s=f.extend(na(n,"position,margin,padding,border"),{height:n.css("height"),overflow:n.css("overflow"),overflowX:n.css("overflowX"),overflowY:n.css("overflowY")}),r=f("html"),r.data("layoutCSS",{height:"auto",overflow:r.css("overflow"),overflowX:r.css("overflowX"),overflowY:r.css("overflowY")})):s=na(n,"position,margin,padding,border,top,bottom,left,right,width,height,overflow,overflowX,overflowY"),n.data("layoutCSS",s));try{if(i)f("html").css({height:"100%",overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}),f("body").css({position:"relative",height:"100%",overflow:"hidden",overflowX:"hidden",overflowY:"hidden",margin:0,padding:0,border:"none"});else{var s={overflow:"hidden"},o=n.css("position");n.css("height"),!n.data("layoutRole")&&(!o||!o.match(/fixed|absolute|relative/))&&(s.position="relative"),n.css(s),n.is(":visible")&&n.innerHeight()<2&&alert(D.errContainerHeight.replace(/CONTAINER/,u.ref))}}catch(a){}f.extend(l.container,$(n)),Xa(),fa(),e.scrollToBookmarkOnLoad&&(n=self.location,n.hash&&n.replace(n.hash)),Na(),e.autoBindCustomButtons&&Za(),e.resizeWithWindow&&!G.data("layoutRole")&&f(window).bind("resize."+v,Va),f(window).bind("unload."+v,Ma),l.initialized=!0,t(null,e.onload_end||e.onload)}(),da}})(jQuery)});