/*!
* This file is part of Aloha Editor Project http://aloha-editor.org
* Copyright Â© 2010-2011 Gentics Software GmbH, aloha@gentics.com
* Contributors http://aloha-editor.org/contribution.php 
* Licensed unter the terms of http://www.aloha-editor.org/license.html
*/
/*
* Aloha Editor is free software: you can redistribute it and/or modify
* it under the terms of the GNU Affero General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.*
*
* Aloha Editor is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
* GNU Affero General Public License for more details.
*
* You should have received a copy of the GNU Affero General Public License
* along with this program. If not, see <http://www.gnu.org/licenses/>.
*/
/*!
 * Ext JS Library 3.2.1
 * Copyright(c) 2006-2010 Ext JS, Inc.
 * licensing@extjs.com
 * http://www.extjs.com/license
 */
// for old browsers
window.undefined=undefined,Ext={version:"3.2.1",versionDetail:{major:3,minor:2,patch:1}},Ext.apply=function(a,b,c){c&&Ext.apply(a,c);if(a&&b&&typeof b=="object")for(var d in b)a[d]=b[d];return a},function(){var a=0,b=Object.prototype.toString,c=navigator.userAgent.toLowerCase(),d=function(a){return a.test(c)},e=document,f=e.compatMode=="CSS1Compat",g=d(/opera/),h=d(/\bchrome\b/),i=d(/webkit/),j=!h&&d(/safari/),k=j&&d(/applewebkit\/4/),l=j&&d(/version\/3/),m=j&&d(/version\/4/),n=!g&&d(/msie/),o=n&&d(/msie 7/),p=n&&d(/msie 8/),q=n&&!o&&!p,r=!i&&d(/gecko/),s=r&&d(/rv:1\.8/),t=r&&d(/rv:1\.9/),u=n&&!f,v=d(/windows|win32/),w=d(/macintosh|mac os x/),x=d(/adobeair/),y=d(/linux/),z=/^https/i.test(window.location.protocol);if(q)try{e.execCommand("BackgroundImageCache",!1,!0)}catch(A){}Ext.apply(Ext,{SSL_SECURE_URL:z&&n?'javascript:""':"about:blank",isStrict:f,isSecure:z,isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!1,enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,applyIf:function(a,b){if(a)for(var c in b)Ext.isDefined(a[c])||(a[c]=b[c]);return a},id:function(b,c){return b=Ext.getDom(b,!0)||{},b.id||(b.id=(c||"ext-gen")+ ++a),b.id},extend:function(){var a=function(a){for(var b in a)this[b]=a[b]},b=Object.prototype.constructor;return function(c,d,e){typeof d=="object"&&(e=d,d=c,c=e.constructor!=b?e.constructor:function(){d.apply(this,arguments)});var f=function(){},g,h=d.prototype;return f.prototype=h,g=c.prototype=new f,g.constructor=c,c.superclass=h,h.constructor==b&&(h.constructor=d),c.override=function(a){Ext.override(c,a)},g.superclass=g.supr=function(){return h},g.override=a,Ext.override(c,e),c.extend=function(a){return Ext.extend(c,a)},c}}(),override:function(a,b){if(b){var c=a.prototype;Ext.apply(c,b),Ext.isIE&&b.hasOwnProperty("toString")&&(c.toString=b.toString)}},namespace:function(){var a,b;return Ext.each(arguments,function(c){b=c.split("."),a=window[b[0]]=window[b[0]]||{},Ext.each(b.slice(1),function(b){a=a[b]=a[b]||{}})}),a},urlEncode:function(a,b){var c,d=[],e=encodeURIComponent;return Ext.iterate(a,function(a,b){c=Ext.isEmpty(b),Ext.each(c?a:b,function(b){d.push("&",e(a),"=",!Ext.isEmpty(b)&&(b!=a||!c)?Ext.isDate(b)?Ext.encode(b).replace(/"/g,""):e(b):"")})}),b||(d.shift(),b=""),b+d.join("")},urlDecode:function(a,b){if(Ext.isEmpty(a))return{};var c={},d=a.split("&"),e=decodeURIComponent,f,g;return Ext.each(d,function(a){a=a.split("="),f=e(a[0]),g=e(a[1]),c[f]=b||!c[f]?g:[].concat(c[f]).concat(g)}),c},urlAppend:function(a,b){return Ext.isEmpty(b)?a:a+(a.indexOf("?")===-1?"?":"&")+b},toArray:function(){return n?function(a,b,c,d){d=[];for(var e=0,f=a.length;e<f;e++)d.push(a[e]);return d.slice(b||0,c||d.length)}:function(a,b,c){return Array.prototype.slice.call(a,b||0,c||a.length)}}(),isIterable:function(a){return Ext.isArray(a)||a.callee?!0:/NodeList|HTMLCollection/.test(b.call(a))?!0:(typeof a.nextNode!="undefined"||a.item)&&Ext.isNumber(a.length)},each:function(a,b,c){if(Ext.isEmpty(a,!0))return;if(!Ext.isIterable(a)||Ext.isPrimitive(a))a=[a];for(var d=0,e=a.length;d<e;d++)if(b.call(c||a[d],a[d],d,a)===!1)return d},iterate:function(a,b,c){if(Ext.isEmpty(a))return;if(Ext.isIterable(a)){Ext.each(a,b,c);return}if(typeof a=="object")for(var d in a)if(a.hasOwnProperty(d)&&b.call(c||a,d,a[d],a)===!1)return},getDom:function(a,b){if(!a||!e)return null;if(a.dom)return a.dom;if(typeof a=="string"){var c=e.getElementById(a);return c&&n&&b?a==c.getAttribute("id")?c:null:c}return a},getBody:function(){return Ext.get(e.body||e.documentElement)},removeNode:n&&!p?function(){var a;return function(b){b&&b.tagName!="BODY"&&(Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(b,!0):Ext.EventManager.removeAll(b),a=a||e.createElement("div"),a.appendChild(b),a.innerHTML="",delete Ext.elCache[b.id])}}():function(a){a&&a.parentNode&&a.tagName!="BODY"&&(Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(a,!0):Ext.EventManager.removeAll(a),a.parentNode.removeChild(a),delete Ext.elCache[a.id])},isEmpty:function(a,b){return a===null||a===undefined||Ext.isArray(a)&&!a.length||(b?!1:a==="")},isArray:function(a){return b.apply(a)==="[object Array]"},isDate:function(a){return b.apply(a)==="[object Date]"},isObject:function(a){return!!a&&Object.prototype.toString.call(a)==="[object Object]"},isPrimitive:function(a){return Ext.isString(a)||Ext.isNumber(a)||Ext.isBoolean(a)},isFunction:function(a){return b.apply(a)==="[object Function]"},isNumber:function(a){return typeof a=="number"&&isFinite(a)},isString:function(a){return typeof a=="string"},isBoolean:function(a){return typeof a=="boolean"},isElement:function(a){return a?!!a.tagName:!1},isDefined:function(a){return typeof a!="undefined"},isOpera:g,isWebKit:i,isChrome:h,isSafari:j,isSafari3:l,isSafari4:m,isSafari2:k,isIE:n,isIE6:q,isIE7:o,isIE8:p,isGecko:r,isGecko2:s,isGecko3:t,isBorderBox:u,isLinux:y,isWindows:v,isMac:w,isAir:x}),Ext.ns=Ext.namespace}(),Ext.ns("Ext.util","Ext.lib","Ext.data"),Ext.elCache={},Ext.apply(Function.prototype,{createInterceptor:function(a,b){var c=this;return Ext.isFunction(a)?function(){var d=this,e=arguments;return a.target=d,a.method=c,a.apply(b||d||window,e)!==!1?c.apply(d||window,e):null}:this},createCallback:function(){var a=arguments,b=this;return function(){return b.apply(window,a)}},createDelegate:function(a,b,c){var d=this;return function(){var e=b||arguments;if(c===!0)e=Array.prototype.slice.call(arguments,0),e=e.concat(b);else if(Ext.isNumber(c)){e=Array.prototype.slice.call(arguments,0);var f=[c,0].concat(b);Array.prototype.splice.apply(e,f)}return d.apply(a||window,e)}},defer:function(a,b,c,d){var e=this.createDelegate(b,c,d);return a>0?setTimeout(e,a):(e(),0)}}),Ext.applyIf(String,{format:function(a){var b=Ext.toArray(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})}}),Ext.applyIf(Array.prototype,{indexOf:function(a,b){var c=this.length;b=b||0,b+=b<0?c:0;for(;b<c;++b)if(this[b]===a)return b;return-1},remove:function(a){var b=this.indexOf(a);return b!=-1&&this.splice(b,1),this}}),Ext.ns("Ext.grid","Ext.list","Ext.dd","Ext.tree","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.chart","Ext.direct"),Ext.apply(Ext,function(){var a=Ext,b=0,c=null;return{emptyFn:function(){},BLANK_IMAGE_URL:Ext.isIE6||Ext.isIE7||Ext.isAir?"http://www.extjs.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",extendX:function(a,b){return Ext.extend(a,b(a.prototype))},getDoc:function(){return Ext.get(document)},num:function(a,b){return a=Number(Ext.isEmpty(a)||Ext.isArray(a)||typeof a=="boolean"||typeof a=="string"&&a.trim().length==0?NaN:a),isNaN(a)?b:a},value:function(a,b,c){return Ext.isEmpty(a,c)?b:a},escapeRe:function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},sequence:function(a,b,c,d){a[b]=a[b].createSequence(c,d)},addBehaviors:function(a){if(!Ext.isReady)Ext.onReady(function(){Ext.addBehaviors(a)});else{var b={},c,d,e;for(d in a)(c=d.split("@"))[1]&&(e=c[0],b[e]||(b[e]=Ext.select(e)),b[e].on(c[1],a[d]));b=null}},getScrollBarWidth:function(a){if(!Ext.isReady)return 0;if(a===!0||c===null){var b=Ext.getBody().createChild('<div class="x-hide-offsets" style="width:100px;height:50px;overflow:hidden;"><div style="height:200px;"></div></div>'),d=b.child("div",!0),e=d.offsetWidth;b.setStyle("overflow",Ext.isWebKit||Ext.isGecko?"auto":"scroll");var f=d.offsetWidth;b.remove(),c=e-f+2}return c},combine:function(){var a=arguments,b=a.length,c=[];for(var d=0;d<b;d++){var e=a[d];Ext.isArray(e)?c=c.concat(e):e.length!==undefined&&!e.substr?c=c.concat(Array.prototype.slice.call(e,0)):c.push(e)}return c},copyTo:function(a,b,c){return typeof c=="string"&&(c=c.split(/[,;\s]/)),Ext.each(c,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])},this),a},destroy:function(){Ext.each(arguments,function(a){a&&(Ext.isArray(a)?this.destroy.apply(this,a):typeof a.destroy=="function"?a.destroy():a.dom&&a.remove())},this)},destroyMembers:function(a,b,c,d){for(var e=1,f=arguments,g=f.length;e<g;e++)Ext.destroy(a[f[e]]),delete a[f[e]]},clean:function(a){var b=[];return Ext.each(a,function(a){!a||b.push(a)}),b},unique:function(a){var b=[],c={};return Ext.each(a,function(a){c[a]||b.push(a),c[a]=!0}),b},flatten:function(a){function c(a){return Ext.each(a,function(a){Ext.isArray(a)?c(a):b.push(a)}),b}var b=[];return c(a)},min:function(a,b){var c=a[0];return b=b||function(a,b){return a<b?-1:1},Ext.each(a,function(a){c=b(c,a)==-1?c:a}),c},max:function(a,b){var c=a[0];return b=b||function(a,b){return a>b?1:-1},Ext.each(a,function(a){c=b(c,a)==1?c:a}),c},mean:function(a){return a.length>0?Ext.sum(a)/a.length:undefined},sum:function(a){var b=0;return Ext.each(a,function(a){b+=a}),b},partition:function(a,b){var c=[[],[]];return Ext.each(a,function(a,d,e){c[b&&b(a,d,e)||!b&&a?0:1].push(a)}),c},invoke:function(a,b){var c=[],d=Array.prototype.slice.call(arguments,2);return Ext.each(a,function(a,e){a&&typeof a[b]=="function"?c.push(a[b].apply(a,d)):c.push(undefined)}),c},pluck:function(a,b){var c=[];return Ext.each(a,function(a){c.push(a[b])}),c},zip:function(){var a=Ext.partition(arguments,function(a){return typeof a!="function"}),b=a[0],c=a[1][0],d=Ext.max(Ext.pluck(b,"length")),e=[];for(var f=0;f<d;f++){e[f]=[];if(c)e[f]=c.apply(c,Ext.pluck(b,f));else for(var g=0,h=b.length;g<h;g++)e[f].push(b[g][f])}return e},getCmp:function(a){return Ext.ComponentMgr.get(a)},useShims:a.isIE6||a.isMac&&a.isGecko2,type:function(a){if(a===undefined||a===null)return!1;if(a.htmlElement)return"element";var b=typeof a;if(b=="object"&&a.nodeName)switch(a.nodeType){case 1:return"element";case 3:return/\S/.test(a.nodeValue)?"textnode":"whitespace"}if(b=="object"||b=="function"){switch(a.constructor){case Array:return"array";case RegExp:return"regexp";case Date:return"date"}if(typeof a.length=="number"&&typeof a.item=="function")return"nodelist"}return b},intercept:function(a,b,c,d){a[b]=a[b].createInterceptor(c,d)},callback:function(a,b,c,d){typeof a=="function"&&(d?a.defer(d,b,c||[]):a.apply(b,c||[]))}}}()),Ext.apply(Function.prototype,{createSequence:function(a,b){var c=this;return typeof a!="function"?this:function(){var d=c.apply(this||window,arguments);return a.apply(b||this||window,arguments),d}}}),Ext.applyIf(String,{escape:function(a){return a.replace(/('|\\)/g,"\\$1")},leftPad:function(a,b,c){var d=String(a);c||(c=" ");while(d.length<b)d=c+d;return d}}),String.prototype.toggle=function(a,b){return this==a?b:a},String.prototype.trim=function(){var a=/^\s+|\s+$/g;return function(){return this.replace(a,"")}}(),Date.prototype.getElapsed=function(a){return Math.abs((a||new Date).getTime()-this.getTime())},Ext.applyIf(Number.prototype,{constrain:function(a,b){return Math.min(Math.max(this,a),b)}}),Ext.util.TaskRunner=function(a){a=a||10;var b=[],c=[],d=0,e=!1,f=function(){e=!1,clearInterval(d),d=0},g=function(){e||(e=!0,d=setInterval(i,a))},h=function(a){c.push(a),a.onStop&&a.onStop.apply(a.scope||a)},i=function(){var a=c.length,d=(new Date).getTime();if(a>0){for(var e=0;e<a;e++)b.remove(c[e]);c=[];if(b.length<1){f();return}}for(var e=0,g,i,j,k=b.length;e<k;++e){g=b[e],i=d-g.taskRunTime;if(g.interval<=i){j=g.run.apply(g.scope||g,g.args||[++g.taskRunCount]),g.taskRunTime=d;if(j===!1||g.taskRunCount===g.repeat){h(g);return}}g.duration&&g.duration<=d-g.taskStartTime&&h(g)}};this.start=function(a){return b.push(a),a.taskStartTime=(new Date).getTime(),a.taskRunTime=0,a.taskRunCount=0,g(),a},this.stop=function(a){return h(a),a},this.stopAll=function(){f();for(var a=0,d=b.length;a<d;a++)b[a].onStop&&b[a].onStop();b=[],c=[]}},Ext.TaskMgr=new Ext.util.TaskRunner;if(typeof jQuery=="undefined")throw"Unable to load Ext, jQuery not found.";(function(){function b(b){return a||(a=new Ext.Element.Flyweight),a.dom=b,a}var a;Ext.lib.Dom={getViewWidth:function(a){return a?Math.max(jQuery(document).width(),jQuery(window).width()):jQuery(window).width()},getViewHeight:function(a){return a?Math.max(jQuery(document).height(),jQuery(window).height()):jQuery(window).height()},isAncestor:function(a,b){var c=!1;a=Ext.getDom(a),b=Ext.getDom(b);if(a&&b){if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(b)&16);while(b=b.parentNode)c=b==a||c}return c},getRegion:function(a){return Ext.lib.Region.getRegion(a)},getY:function(a){return this.getXY(a)[1]},getX:function(a){return this.getXY(a)[0]},getXY:function(a){var c,d,e,f,g=document.body||document.documentElement;a=Ext.getDom(a);if(a==g)return[0,0];if(a.getBoundingClientRect)return e=a.getBoundingClientRect(),f=b(document).getScroll(),[Math.round(e.left+f.left),Math.round(e.top+f.top)];var h=0,i=0;c=a;var j=b(a).getStyle("position")=="absolute";while(c){h+=c.offsetLeft,i+=c.offsetTop,!j&&b(c).getStyle("position")=="absolute"&&(j=!0);if(Ext.isGecko){d=b(c);var k=parseInt(d.getStyle("borderTopWidth"),10)||0,l=parseInt(d.getStyle("borderLeftWidth"),10)||0;h+=l,i+=k,c!=a&&d.getStyle("overflow")!="visible"&&(h+=l,i+=k)}c=c.offsetParent}Ext.isSafari&&j&&(h-=g.offsetLeft,i-=g.offsetTop);if(Ext.isGecko&&!j){var m=b(g);h+=parseInt(m.getStyle("borderLeftWidth"),10)||0,i+=parseInt(m.getStyle("borderTopWidth"),10)||0}c=a.parentNode;while(c&&c!=g){if(!Ext.isOpera||c.tagName!="TR"&&b(c).getStyle("display")!="inline")h-=c.scrollLeft,i-=c.scrollTop;c=c.parentNode}return[h,i]},setXY:function(a,b){a=Ext.fly(a,"_setXY"),a.position();var c=a.translatePoints(b);b[0]!==!1&&(a.dom.style.left=c.left+"px"),b[1]!==!1&&(a.dom.style.top=c.top+"px")},setX:function(a,b){this.setXY(a,[b,!1])},setY:function(a,b){this.setXY(a,[!1,b])}},Ext.lib.Event={getPageX:function(a){return a=a.browserEvent||a,a.pageX},getPageY:function(a){return a=a.browserEvent||a,a.pageY},getXY:function(a){return a=a.browserEvent||a,[a.pageX,a.pageY]},getTarget:function(a){return a.target},on:function(a,b,c,d,e){jQuery(a).bind(b,c)},un:function(a,b,c){jQuery(a).unbind(b,c)},purgeElement:function(a){jQuery(a).unbind()},preventDefault:function(a){a=a.browserEvent||a,a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(a){a=a.browserEvent||a,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},stopEvent:function(a){this.preventDefault(a),this.stopPropagation(a)},onAvailable:function(a,b,c){var d=new Date,e=function(){d.getElapsed()>1e4&&clearInterval(f);var e=document.getElementById(a);e&&(clearInterval(f),b.call(c||window,e))},f=setInterval(e,50)},resolveTextNode:Ext.isGecko?function(a){if(!a)return;var b=HTMLElement.prototype.toString.call(a);if(b=="[xpconnect wrapped native prototype]"||b=="[object XULElement]")return;return a.nodeType==3?a.parentNode:a}:function(a){return a&&a.nodeType==3?a.parentNode:a},getRelatedTarget:function(a){a=a.browserEvent||a;var b=a.relatedTarget;return b||(a.type=="mouseout"?b=a.toElement:a.type=="mouseover"&&(b=a.fromElement)),this.resolveTextNode(b)}},Ext.lib.Ajax=function(){var a=function(a){return function(c,d){d!="error"&&d!="timeout"||!a.failure?a.success&&a.success.call(a.scope||window,b(a,c)):a.failure.call(a.scope||window,b(a,c))}},b=function(a,b){var c={},d,e,f;try{d=b.getAllResponseHeaders(),Ext.each(d.replace(/\r\n/g,"\n").split("\n"),function(a){e=a.indexOf(":"),e>=0&&(f=a.substr(0,e).toLowerCase(),a.charAt(e+1)==" "&&++e,c[f]=a.substr(e+1))})}catch(g){}return{responseText:b.responseText,responseXML:b.responseXML,argument:a.argument,status:b.status,statusText:b.statusText,getResponseHeader:function(a){return c[a.toLowerCase()]},getAllResponseHeaders:function(){return d}}};return{request:function(b,c,d,e,f){var g={type:b,url:c,data:e,timeout:d.timeout,complete:a(d)};if(f){var h=f.headers;if(f.xmlData){g.data=f.xmlData,g.processData=!1,g.type=b?b:f.method?f.method:"POST";if(!h||!h["Content-Type"])g.contentType="text/xml"}else if(f.jsonData){g.data=typeof f.jsonData=="object"?Ext.encode(f.jsonData):f.jsonData,g.processData=!1,g.type=b?b:f.method?f.method:"POST";if(!h||!h["Content-Type"])g.contentType="application/json"}h&&(g.beforeSend=function(a){for(var b in h)h.hasOwnProperty(b)&&a.setRequestHeader(b,h[b])})}jQuery.ajax(g)},formRequest:function(b,c,d,e,f,g){jQuery.ajax({type:Ext.getDom(b).method||"POST",url:c,data:jQuery(b).serialize()+(e?"&"+e:""),timeout:d.timeout,complete:a(d)})},isCallInProgress:function(a){return!1},abort:function(a){return!1},serializeForm:function(a){return jQuery(a.dom||a).serialize()}}}(),Ext.lib.Anim=function(){var a=function(a,b){var c=!0;return{stop:function(a){},isAnimated:function(){return c},proxyCallback:function(){c=!1,Ext.callback(a,b)}}};return{scroll:function(b,c,d,e,f,g){var h=a(f,g);return b=Ext.getDom(b),typeof c.scroll.to[0]=="number"&&(b.scrollLeft=c.scroll.to[0]),typeof c.scroll.to[1]=="number"&&(b.scrollTop=c.scroll.to[1]),h.proxyCallback(),h},motion:function(a,b,c,d,e,f){return this.run(a,b,c,d,e,f)},color:function(b,c,d,e,f,g){var h=a(f,g);return h.proxyCallback(),h},run:function(b,c,d,e,f,g,h){var i=a(f,g),j=Ext.fly(b,"_animrun"),k={};for(var l in c)switch(l){case"points":var m,n;j.position();if(m=c.points.by){var o=j.getXY();n=j.translatePoints([o[0]+m[0],o[1]+m[1]])}else n=j.translatePoints(c.points.to);k.left=n.left,k.top=n.top,parseInt(j.getStyle("left"),10)||j.setLeft(0),parseInt(j.getStyle("top"),10)||j.setTop(0),c.points.from&&j.setXY(c.points.from);break;case"width":k.width=c.width.to,c.width.from&&j.setWidth(c.width.from);break;case"height":k.height=c.height.to,c.height.from&&j.setHeight(c.height.from);break;case"opacity":k.opacity=c.opacity.to,c.opacity.from&&j.setOpacity(c.opacity.from);break;case"left":k.left=c.left.to,c.left.from&&j.setLeft(c.left.from);break;case"top":k.top=c.top.to,c.top.from&&j.setTop(c.top.from);break;case"callback":case"scope":case"xy":break;default:k[l]=c[l].to,c[l].from&&j.setStyle(l,c[l].from)}return jQuery(b).animate(k,d*1e3,undefined,i.proxyCallback),i}}}(),Ext.lib.Region=function(a,b,c,d){this.top=a,this[1]=a,this.right=b,this.bottom=c,this.left=d,this[0]=d},Ext.lib.Region.prototype={contains:function(a){return a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom},getArea:function(){return(this.bottom-this.top)*(this.right-this.left)},intersect:function(a){var b=Math.max(this.top,a.top),c=Math.min(this.right,a.right),d=Math.min(this.bottom,a.bottom),e=Math.max(this.left,a.left);return d>=b&&c>=e?new Ext.lib.Region(b,c,d,e):null},union:function(a){var b=Math.min(this.top,a.top),c=Math.max(this.right,a.right),d=Math.max(this.bottom,a.bottom),e=Math.min(this.left,a.left);return new Ext.lib.Region(b,c,d,e)},constrainTo:function(a){return this.top=this.top.constrain(a.top,a.bottom),this.bottom=this.bottom.constrain(a.top,a.bottom),this.left=this.left.constrain(a.left,a.right),this.right=this.right.constrain(a.left,a.right),this},adjust:function(a,b,c,d){return this.top+=a,this.left+=b,this.right+=d,this.bottom+=c,this}},Ext.lib.Region.getRegion=function(a){var b=Ext.lib.Dom.getXY(a),c=b[1],d=b[0]+a.offsetWidth,e=b[1]+a.offsetHeight,f=b[0];return new Ext.lib.Region(c,d,e,f)},Ext.lib.Point=function(a,b){Ext.isArray(a)&&(b=a[1],a=a[0]),this.x=this.right=this.left=this[0]=a,this.y=this.top=this.bottom=this[1]=b},Ext.lib.Point.prototype=new Ext.lib.Region;if(Ext.isIE){function c(){var a=Function.prototype;delete a.createSequence,delete a.defer,delete a.createDelegate,delete a.createCallback,delete a.createInterceptor,window.detachEvent("onunload",c)}window.attachEvent("onunload",c)}})();